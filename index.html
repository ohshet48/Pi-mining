<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#00d4ff">
    <title>Arc Astra</title>
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }
        
        input, button {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
            min-height: 100vh;
            color: white;
            padding: 0;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
            touch-action: pan-y;
        }
        
        /* Simplified Tech Background - Single Layer */
        .tech-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            background: radial-gradient(ellipse at 50% 30%, rgba(0, 200, 220, 0.12) 0%, transparent 60%);
        }
        
        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.4;
        }
        
        .particle {
            display: none; /* All particles disabled */
        }
        
        .container { 
            max-width: 500px; 
            margin: 0 auto; 
            padding: 20px 20px 60px 20px; 
            position: relative; 
            z-index: 10;
            min-height: 100vh;
        }
        
        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a1929;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.8s ease;
            overflow: hidden;
        }
        
        .splash-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        
        .splash-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            position: relative;
            z-index: 1;
        }
        
        /* Animasyonlu ışık çizgileri */
        .light-beam {
            position: absolute;
            bottom: 0;
            width: 2px;
            height: 0;
            animation: beamRise 2s ease-out infinite;
            z-index: 2;
        }
        
        @keyframes beamRise {
            0% {
                height: 0;
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                height: 70%;
                opacity: 0;
            }
        }
        
        .light-beam:nth-child(1) { 
            left: 15%; 
            animation-delay: 0s; 
            background: linear-gradient(to top, rgba(0, 255, 255, 0.8), rgba(0, 255, 255, 0)); /* Neon Mavi */
        }
        .light-beam:nth-child(2) { 
            left: 25%; 
            animation-delay: 0.3s; 
            background: linear-gradient(to top, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0)); /* Mor */
        }
        .light-beam:nth-child(3) { 
            left: 35%; 
            animation-delay: 0.6s; 
            background: linear-gradient(to top, rgba(0, 150, 255, 0.8), rgba(0, 150, 255, 0)); /* Mavi */
        }
        .light-beam:nth-child(4) { 
            left: 45%; 
            animation-delay: 0.9s; 
            background: linear-gradient(to top, rgba(191, 0, 255, 0.8), rgba(191, 0, 255, 0)); /* Neon Mor */
        }
        .light-beam:nth-child(5) { 
            left: 55%; 
            animation-delay: 1.2s; 
            background: linear-gradient(to top, rgba(0, 255, 255, 0.8), rgba(0, 255, 255, 0)); /* Neon Mavi */
        }
        .light-beam:nth-child(6) { 
            left: 65%; 
            animation-delay: 0.4s; 
            background: linear-gradient(to top, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0)); /* Mor */
        }
        .light-beam:nth-child(7) { 
            left: 75%; 
            animation-delay: 0.7s; 
            background: linear-gradient(to top, rgba(0, 150, 255, 0.8), rgba(0, 150, 255, 0)); /* Mavi */
        }
        .light-beam:nth-child(8) { 
            left: 85%; 
            animation-delay: 1s; 
            background: linear-gradient(to top, rgba(191, 0, 255, 0.8), rgba(191, 0, 255, 0)); /* Neon Mor */
        }
        
        /* Auth Screen */
        .auth-screen {
            display: none;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .auth-screen.show {
            display: flex;
        }
        
        .auth-logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .auth-title {
            font-size: 48px;
            font-weight: 900;
            text-align: center;
            color: transparent;
            background: linear-gradient(135deg, #0ea5e9, #0284c7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
            padding: 12px 24px;
            border: 2px solid rgba(14, 165, 233, 0.3);
            border-radius: 12px;
            display: inline-block;
            position: relative;
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.15);
        }
        
        .auth-title-wrapper {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .auth-subtitle {
            text-align: center;
            color: #c4b5fd;
            font-size: 15px;
            margin-bottom: 40px;
        }
        
        .auth-card {
            background: rgba(10, 20, 40, 0.85);
            border-radius: 24px;
            padding: 30px;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.2),
                0 10px 40px rgba(0, 0, 0, 0.4);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            color: #c4b5fd;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            font-size: 15px;
            outline: none;
        }
        
        /* Date Input Styling */
        input[type="date"].form-input {
            color-scheme: dark;
            position: relative;
        }
        
        input[type="date"].form-input::-webkit-calendar-picker-indicator {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%2300ffff" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>') center/contain no-repeat;
            cursor: pointer;
            opacity: 0.8;
            width: 20px;
            height: 20px;
        }
        
        input[type="date"].form-input::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
        }
        
        input[type="date"].form-input::-webkit-datetime-edit {
            color: white;
        }
        
        input[type="date"].form-input::-webkit-datetime-edit-fields-wrapper {
            color: white;
        }
        
        input[type="date"].form-input::-webkit-datetime-edit-text {
            color: #00ffff;
            padding: 0 2px;
        }
        
        input[type="date"].form-input::-webkit-datetime-edit-month-field,
        input[type="date"].form-input::-webkit-datetime-edit-day-field,
        input[type="date"].form-input::-webkit-datetime-edit-year-field {
            color: white;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 4px;
            padding: 2px 4px;
        }
        
        input[type="date"].form-input::-webkit-datetime-edit-month-field:focus,
        input[type="date"].form-input::-webkit-datetime-edit-day-field:focus,
        input[type="date"].form-input::-webkit-datetime-edit-year-field:focus {
            background: rgba(0, 255, 255, 0.2);
            color: #00ffff;
        }
        
        .form-input:-webkit-autofill,
        .form-input:-webkit-autofill:hover,
        .form-input:-webkit-autofill:focus,
        .form-input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px rgba(0, 0, 0, 0.4) inset !important;
            -webkit-text-fill-color: white !important;
            background-color: rgba(0, 0, 0, 0.4) !important;
        }
        
        .form-input:disabled {
            background: rgba(0, 0, 0, 0.2) !important;
            border-color: rgba(0, 255, 255, 0.1) !important;
            color: #999 !important;
            cursor: not-allowed;
            -webkit-text-fill-color: #999 !important;
            opacity: 1 !important;
        }
        
        .form-input:disabled:-webkit-autofill,
        .form-input:disabled:-webkit-autofill:hover,
        .form-input:disabled:-webkit-autofill:focus,
        .form-input:disabled:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px rgba(0, 0, 0, 0.2) inset !important;
            -webkit-text-fill-color: #999 !important;
            background-color: rgba(0, 0, 0, 0.2) !important;
        }
        
        .form-input:disabled:hover,
        .form-input:disabled:focus {
            background: rgba(0, 0, 0, 0.2) !important;
            border-color: rgba(0, 255, 255, 0.1) !important;
            color: #999 !important;
            box-shadow: none !important;
            -webkit-text-fill-color: #999 !important;
        }
        
        .form-input:disabled::-webkit-datetime-edit,
        .form-input:disabled::-webkit-datetime-edit-fields-wrapper,
        .form-input:disabled::-webkit-datetime-edit-text,
        .form-input:disabled::-webkit-datetime-edit-month-field,
        .form-input:disabled::-webkit-datetime-edit-day-field,
        .form-input:disabled::-webkit-datetime-edit-year-field {
            color: #999 !important;
            -webkit-text-fill-color: #999 !important;
        }
        
        .form-input:focus {
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        
        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }
        
        .country-dropdown {
            position: relative;
        }
        
        .country-dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            max-height: 250px;
            overflow-y: auto;
            background: rgba(10, 20, 40, 0.98);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 12px;
            margin-top: 8px;
            z-index: 1000;
            display: none;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        .country-dropdown-list.show {
            display: block;
        }
        
        .country-option {
            padding: 12px 16px;
            color: white;
            cursor: pointer;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }
        
        .country-option:hover {
            background: rgba(0, 255, 255, 0.1);
            padding-left: 20px;
        }
        
        .country-option:last-child {
            border-bottom: none;
        }
        
        .country-dropdown-list::-webkit-scrollbar {
            width: 8px;
        }
        
        .country-dropdown-list::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
        }
        
        .country-dropdown-list::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 255, 0.3);
            border-radius: 4px;
        }
        
        .country-dropdown-list::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 255, 255, 0.5);
        }
        
        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active { transform: scale(0.98); }
        
        .btn-primary {
            background: linear-gradient(135deg, #00ffff, #0096ff);
            color: #000;
            margin-bottom: 12px;
        }
        
        .btn-google {
            background: white;
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .divider {
            text-align: center;
            color: #c4b5fd;
            font-size: 14px;
            margin: 20px 0;
            position: relative;
        }
        
        .divider::before,
        .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: rgba(0, 255, 255, 0.2);
        }
        
        .divider::before { left: 0; }
        .divider::after { right: 0; }
        
        .switch-auth {
            text-align: center;
            color: #c4b5fd;
            font-size: 14px;
            margin-top: 20px;
        }
        
        .switch-auth span {
            color: #00ffff;
            cursor: pointer;
            font-weight: 700;
        }
        
        .error-msg {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 20px;
            color: #fca5a5;
            font-size: 14px;
            text-align: center;
        }
        
        .success-msg {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.5);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 20px;
            color: #86efac;
            font-size: 14px;
            text-align: center;
        }
        
        /* Toast Notification */
        .toast-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: rgba(10, 20, 40, 0.95);
            border: 1px solid rgba(6, 182, 212, 0.6);
            border-radius: 8px;
            padding: 12px 20px;
            color: white;
            font-size: 14px;
            font-weight: 500;
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            max-width: 90%;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .toast-notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .toast-notification.error {
            background: rgba(10, 20, 40, 0.95);
            border-color: rgba(239, 68, 68, 0.6);
        }
        
        .toast-notification.exit {
            bottom: 20px;
            top: auto;
            transform: translateX(-50%) translateY(100px);
            background: rgba(10, 20, 40, 0.95);
            border-color: rgba(251, 191, 36, 0.6);
        }
        
        .toast-notification.exit.show {
            transform: translateX(-50%) translateY(0);
        }
        
        /* Header - Minimal */
        .header { text-align: center; padding: 15px 0 10px 0; position: relative; }
        .welcome-card {
            background: rgba(10, 20, 40, 0.85);
            border-radius: 16px;
            padding: 12px 20px;
            display: inline-block;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.15);
        }
        .menu-btn {
            position: absolute;
            top: 15px;
            right: 0;
            width: 44px;
            height: 44px;
            background: rgba(10, 20, 40, 0.85);
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.15);
        }
        .menu-btn:hover {
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        .menu-btn:active {
            transform: scale(0.95);
        }
        .menu-btn span {
            width: 22px;
            height: 2.5px;
            background: linear-gradient(135deg, #00ffff, #0096ff);
            border-radius: 2px;
        }
        
        .menu-btn-highlight {
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, #10b981, #059669) border-box !important;
            box-shadow: 0 0 25px rgba(16, 185, 129, 0.5) !important;
        }
        
        .menu-btn-highlight span {
            background: linear-gradient(135deg, #10b981, #059669) !important;
        }
        
        /* Menu Sidebar */
        .menu-sidebar {
            position: fixed;
            top: 0;
            right: -50%;
            width: 50%;
            max-width: 320px;
            height: 100vh;
            background: rgba(10, 20, 40, 0.98);
            border-left: 2px solid transparent;
            border-image: linear-gradient(180deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) 1;
            box-shadow: -10px 0 40px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .menu-sidebar.open {
            right: 0;
        }
        
        @media (min-width: 640px) {
            .menu-sidebar {
                right: -320px;
                width: 320px;
            }
        }
        
        .menu-header {
            padding: 12px 20px;
            margin: 15px 15px 10px 15px;
            background: rgba(10, 20, 40, 0.9);
            border-radius: 12px;
            border: 1.5px solid rgba(0, 255, 255, 0.4);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: inline-block;
            width: auto;
        }
        
        .menu-title {
            font-size: 16px;
            font-weight: 900;
            color: #00ffff;
            text-align: center;
            letter-spacing: 1.5px;
            text-transform: uppercase;
        }
        
        .menu-items {
            padding: 15px 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .menu-item {
            padding: 12px 16px;
            color: #c4b5fd;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.15);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .menu-item-disabled {
            cursor: not-allowed;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.15);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            opacity: 0.5;
        }
        
        .menu-item-disabled:hover {
            background: rgba(0, 0, 0, 0.3) !important;
            border-color: rgba(0, 255, 255, 0.15) !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
            transform: none !important;
        }
        
        .menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
            border-color: rgba(0, 255, 255, 0.4);
            color: #00ffff;
            box-shadow: 0 4px 12px rgba(0, 255, 255, 0.15);
        }
        
        .menu-item:active {
            transform: scale(0.98);
        }
        
        .menu-item-highlight {
            background: rgba(16, 185, 129, 0.2) !important;
            border-color: #10b981 !important;
            color: #10b981 !important;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.3) !important;
        }
        
        .menu-item-highlight:hover {
            background: rgba(16, 185, 129, 0.3) !important;
        }
        
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
        }
        
        .menu-overlay.show {
            opacity: 1;
            pointer-events: all;
        }
        
        /* Profile Modal */
        .profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .profile-modal.show {
            display: flex;
        }
        
        .profile-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
        }
        
        .profile-content {
            position: relative;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            background: rgba(10, 20, 40, 0.95);
            border-radius: 24px;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.95), rgba(10, 20, 40, 0.95)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.3);
        }
        
        .profile-header {
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .profile-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .profile-close:hover {
            background: rgba(0, 0, 0, 0.6);
            border-color: rgba(0, 255, 255, 0.4);
        }
        
        .profile-close svg {
            width: 20px;
            height: 20px;
            stroke: #00ffff;
            stroke-width: 2.5;
        }
        
        .profile-avatar-large {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #fbbf24, #f97316);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            font-weight: 900;
            color: white;
            box-shadow: 0 10px 30px rgba(251, 191, 36, 0.4);
        }
        
        .profile-name {
            font-size: 28px;
            font-weight: 900;
            color: white;
            margin-bottom: 5px;
        }
        
        .profile-username {
            font-size: 16px;
            color: #8b5cf6;
            font-weight: 600;
        }
        
        .profile-body {
            padding: 20px 30px 30px;
        }
        
        .profile-section {
            margin-bottom: 25px;
        }
        
        .profile-section-title {
            font-size: 14px;
            color: #8b5cf6;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }
        
        .profile-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .profile-info-item {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.15);
            border-radius: 14px;
            padding: 14px;
        }
        
        .profile-info-label {
            font-size: 12px;
            color: #c4b5fd;
            margin-bottom: 6px;
        }
        
        .profile-info-value {
            font-size: 20px;
            font-weight: 800;
            color: white;
        }
        
        .profile-stats-row {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
        }
        
        .profile-stat-card {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.15);
            border-radius: 14px;
            padding: 16px;
            text-align: center;
        }
        
        .profile-stat-value {
            font-size: 24px;
            font-weight: 900;
            background: linear-gradient(135deg, #00ffff, #0096ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }
        
        .profile-stat-label {
            font-size: 11px;
            color: #c4b5fd;
            font-weight: 600;
        }
        
        .profile-action-btn {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 255, 255, 0.25);
            border-radius: 12px;
            color: #00ffff;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            margin-bottom: 10px;
        }
        
        .profile-action-btn:hover {
            background: rgba(0, 0, 0, 0.6);
            border-color: rgba(0, 255, 255, 0.4);
        }
        
        .profile-action-btn:active {
            transform: scale(0.98);
        }
        
        .profile-logout-btn {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid rgba(239, 68, 68, 0.4);
            color: #fca5a5;
        }
        
        .profile-delete-btn {
            background: rgba(239, 68, 68, 0.15);
            border: 2px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
        }
        
        /* Avatar Upload */
        .profile-avatar-large {
            position: relative;
            background: linear-gradient(135deg, #0096ff, #00ffff) !important;
        }
        
        .profile-avatar-large img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 26px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #00ffff, #0096ff);
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        .avatar-change-btn {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #00ffff, #0096ff);
            border: 3px solid rgba(10, 20, 40, 0.95);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 255, 255, 0.4);
        }
        
        .avatar-change-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.6);
        }
        
        .avatar-change-btn:active {
            transform: scale(0.95);
        }
        
        .avatar-change-btn svg {
            width: 18px;
            height: 18px;
            fill: #000;
        }
        
        /* Avatar change button for full page */
        .full-page-content .avatar-change-btn {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #00ffff, #0096ff);
            border: 3px solid rgba(10, 20, 40, 0.95);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 255, 255, 0.4);
        }
        
        .full-page-content .avatar-change-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 255, 255, 0.6);
        }
        
        .full-page-content .avatar-change-btn:active {
            transform: scale(0.95);
        }
        
        /* Referral Earnings Card */
        .referral-earnings-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.15);
            border-radius: 14px;
            padding: 16px;
        }
        
        .referral-earnings-main {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .referral-earnings-icon {
            font-size: 32px;
        }
        
        .referral-earnings-value {
            font-size: 24px;
            font-weight: 900;
            background: linear-gradient(135deg, #fbbf24, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .referral-earnings-label {
            font-size: 12px;
            color: #c4b5fd;
            margin-top: 2px;
        }
        
        .referral-earnings-detail {
            font-size: 13px;
            color: #8b5cf6;
            font-weight: 600;
            text-align: center;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 255, 255, 0.1);
        }
        
        /* Ranking Card */
        .ranking-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.15);
            border-radius: 14px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .ranking-badge {
            text-align: center;
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(249, 115, 22, 0.2));
            border: 2px solid rgba(251, 191, 36, 0.4);
            border-radius: 12px;
        }
        
        .ranking-position {
            font-size: 28px;
            font-weight: 900;
            background: linear-gradient(135deg, #fbbf24, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            margin-bottom: 4px;
        }
        
        .ranking-label {
            font-size: 11px;
            color: #fbbf24;
            font-weight: 700;
        }
        
        .ranking-info {
            flex: 1;
        }
        
        .ranking-info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }
        
        .ranking-info-item:last-child {
            margin-bottom: 0;
        }
        
        .ranking-info-label {
            color: #c4b5fd;
            font-weight: 600;
        }
        
        .ranking-info-value {
            color: white;
            font-weight: 800;
        }
        
        /* Share Buttons */
        .share-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .share-btn {
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 700;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-btn:active {
            transform: scale(0.95);
        }
        
        .share-twitter {
            background: #1DA1F2;
        }
        
        .share-whatsapp {
            background: #25D366;
        }
        
        .share-telegram {
            background: #0088cc;
        }
        
        .share-copy {
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid rgba(0, 255, 255, 0.4);
        }
        
        /* Change Email/Password Modal */
        .change-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .change-modal.show {
            display: flex;
        }
        
        .change-modal-content {
            position: relative;
            max-width: 400px;
            width: 100%;
            background: rgba(10, 20, 40, 0.98);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.98), rgba(10, 20, 40, 0.98)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.3);
        }
        
        .change-modal-title {
            font-size: 20px;
            font-weight: 900;
            color: white;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .change-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .change-modal-close:hover {
            background: rgba(0, 0, 0, 0.6);
        }
        
        .change-modal-close svg {
            width: 16px;
            height: 16px;
            stroke: #00ffff;
            stroke-width: 2.5;
        }
        
        /* Full Page Container */
        .full-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
            z-index: 2000;
            display: none;
            overflow-y: auto;
        }
        
        .full-page.active {
            display: block;
        }
        
        .full-page-header {
            position: sticky;
            top: 0;
            background: rgba(10, 20, 40, 0.95);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10;
        }
        
        .back-btn {
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .back-btn:hover {
            background: rgba(0, 0, 0, 0.6);
            border-color: rgba(0, 255, 255, 0.4);
        }
        
        .back-btn:active {
            transform: scale(0.95);
        }
        
        .back-btn svg {
            width: 22px;
            height: 22px;
            stroke: #00ffff;
            stroke-width: 2.5;
        }
        
        .full-page-title {
            font-size: 22px;
            font-weight: 900;
            color: white;
            flex: 1;
        }
        
        .full-page-content {
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        .welcome-text { 
            color: #c4b5fd; 
            font-size: 16px; 
            font-weight: 600;
        }
        .username-text {
            color: #00ffff;
            font-weight: 700;
        }
        
        /* Card - No Blur */
        .card { 
            background: rgba(10, 20, 40, 0.85);
            border-radius: 28px;
            padding: 28px;
            margin-bottom: 18px;
            position: relative;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.4), rgba(123, 67, 255, 0.4)) border-box;
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.2),
                0 10px 40px rgba(0, 0, 0, 0.4);
        }
        
        /* Balance - Compact 50% smaller */
        .balance-card {
            padding: 14px 20px !important;
            position: relative;
        }
        .balance-label { 
            color: #c4b5fd; 
            font-size: 12px; 
            text-align: center; 
            margin-bottom: 6px; 
        }
        .balance-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
        }
        .balance-value { 
            font-size: 28px; 
            font-weight: 900; 
            line-height: 1;
        }
        
        .balance-icon {
            width: 16px;
            height: 16px;
            vertical-align: middle;
            border: 0.3px solid #00d9ff;
            border-radius: 4px;
            padding: 2px;
            margin: 4px 0;
        }
        .balance-unit { 
            font-size: 16px; 
            color: #fbbf24; 
            font-weight: 600; 
        }
        .balance-toggle {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: #00bcd4;
            padding: 6px 8px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            right: 0;
        }
        .balance-toggle:active {
            transform: scale(0.95);
            background: rgba(0, 0, 0, 0.4);
        }
        .balance-toggle svg {
            width: 20px;
            height: 20px;
            stroke: currentColor;
        }
        
        /* Button */
        .btn-mine { 
            width: 100%;
            padding: 26px;
            border: none;
            border-radius: 20px;
            font-size: 22px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 14px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.35);
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        .btn-mine:active { transform: scale(0.97); }
        .btn-mine svg { width: 36px; height: 36px; }
        
        /* Static Green Border for Mining (No Animation) */
        .mining-glow {
            border: 2px solid #10b981 !important;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, #10b981, #10b981) border-box !important;
            box-shadow: 
                0 0 30px rgba(16, 185, 129, 0.4),
                0 10px 40px rgba(0, 0, 0, 0.4) !important;
        }
        
        /* Timer */
        .timer-wrap { text-align: center; }
        .timer-circle {
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            position: relative;
        }
        .timer-circle svg { width: 100%; height: 100%; transform: rotate(-90deg); }
        .timer-bg { stroke: rgba(255,255,255,0.12); fill: none; stroke-width: 10; }
        .timer-progress { 
            stroke: #10b981; 
            fill: none; 
            stroke-width: 10;
            stroke-linecap: round;
        }
        .timer-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .timer-icon svg { width: 52px; height: 52px; stroke: #10b981; }
        .mining-active { color: #10b981; font-weight: 700; font-size: 20px; margin-bottom: 10px; }
        .timer-time { font-size: 40px; font-weight: 900; margin-bottom: 8px; }
        .timer-label { color: #c4b5fd; font-size: 15px; }
        .earning-box {
            background: rgba(16,185,129,0.25);
            border: 1.5px solid rgba(16,185,129,0.4);
            border-radius: 14px;
            padding: 14px;
            margin-top: 18px;
        }
        .earning-text { color: #6ee7b7; font-size: 15px; text-align: center; }
        .earning-amount { font-weight: 800; font-size: 20px; }
        
        /* Stats Grid */
        .stats { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 16px; 
            margin-bottom: 18px; 
        }
        .stat {
            background: rgba(10, 20, 40, 0.85);
            border-radius: 20px;
            padding: 14px;
            border: 2px solid transparent;
            background: 
                linear-gradient(rgba(10, 20, 40, 0.85), rgba(10, 20, 40, 0.85)) padding-box,
                linear-gradient(145deg, rgba(0, 255, 255, 0.3), rgba(123, 67, 255, 0.3)) border-box;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.15);
            min-height: 140px;
            max-height: 140px;
            display: flex;
            flex-direction: column;
        }
        .stat-top { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
        .stat-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .stat-icon svg { width: 20px; height: 20px; }
        .stat-label { color: #c4b5fd; font-size: 13px; flex: 1; }
        .stat-value { font-size: 24px; font-weight: 900; line-height: 1; }
        .stat-unit { font-size: 13px; color: #c4b5fd; margin-top: 4px; }
        
        /* Level Card - Enhanced */
        .level-progress-bar {
            position: relative;
            overflow: visible;
            width: 100%;
            height: 18px;
            background: rgba(10, 20, 40, 0.85);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin-top: 4px;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .level-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .level-progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            pointer-events: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 9px;
            font-weight: 700;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
        }
        
        .level-claim-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(5, 150, 105, 0.3)) !important;
            border: 2px solid #10b981 !important;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.5) !important;
        }
        
        .congrats-text {
            font-size: 24px;
            font-weight: 900;
            color: #10b981;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .level-reached-text {
            font-size: 18px;
            font-weight: 700;
            color: white;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .reward-text {
            font-size: 15px;
            color: #6ee7b7;
            text-align: center;
            margin-bottom: 12px;
        }
        
        .claim-btn {
            width: 100%;
            padding: 8px;
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 13px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
        
        .claim-btn:active {
            transform: scale(0.98);
        }
                /* Daily Reward Card */
        .reward-card {
            text-align: center;
            padding: 18px;
        }
        
        .reward-available {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(5, 150, 105, 0.3)) !important;
            border: 2px solid #10b981 !important;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.5) !important;
        }
        
        .reward-available .stat-icon {
            background: rgba(6, 182, 212, 0.35) !important;
        }
        
        .reward-available .stat-icon svg {
            stroke: #06b6d4 !important;
        }
        
        .reward-chest {
            width: 70px;
            height: 70px;
            margin: 0 auto 12px;
        }
        
        .reward-chest.locked {
            opacity: 0.4;
        }
        
        .reward-chest.available {
            opacity: 1;
        }
        
        .reward-chest svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 4px 12px rgba(0, 150, 255, 0.4));
        }
        
        .reward-chest.locked svg {
            filter: drop-shadow(0 2px 6px rgba(100, 100, 100, 0.2));
        }
        
        .reward-claim-btn {
            width: 100%;
            padding: 8px;
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 13px;
            font-weight: 800;
            cursor: pointer;
            margin-top: -7px;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .reward-claim-btn:active {
            transform: scale(0.98);
        }
        .icon-blue svg { stroke: #93c5fd; fill: none; stroke-width: 2; }
        .icon-purple { background: rgba(168,85,247,0.35); }
        .icon-purple svg { stroke: #d8b4fe; fill: none; stroke-width: 2; }
        .icon-green { background: rgba(16,185,129,0.35); }
        .icon-green svg { stroke: #6ee7b7; fill: none; stroke-width: 2; }
        .icon-orange { background: rgba(249,115,22,0.35); }
        .icon-orange svg { stroke: #fdba74; fill: none; stroke-width: 2; }
        
        /* Section Title */
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        .section-title svg { width: 20px; height: 20px; stroke: #93c5fd; }
        
        /* Referral - Compact */
        .ref-compact {
            background: rgba(0,0,0,0.35);
            border: 1.5px solid rgba(59,130,246,0.35);
            border-radius: 12px;
            padding: 12px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }
        
        .ref-code-text {
            font-size: 18px;
            font-weight: 800;
            font-family: 'Courier New', monospace;
            color: #93c5fd;
            letter-spacing: 1px;
            flex: 1;
        }
        
        .copy-btn {
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid rgba(0, 255, 255, 0.4);
            color: #00ffff;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .copy-btn:active {
            transform: scale(0.95);
            background: rgba(0, 255, 255, 0.3);
        }
        
        .copy-btn svg {
            width: 16px;
            height: 16px;
            stroke: currentColor;
        }
        
        /* Bonus */
        .bonus-card {
            background: linear-gradient(135deg, rgba(251,191,36,0.25), rgba(249,115,22,0.25));
            border: 1.5px solid rgba(251,191,36,0.4);
        }
        .bonus-text { color: #e9d5ff; font-size: 15px; margin-bottom: 14px; line-height: 1.5; }
        .bonus-highlight { color: #fbbf24; font-weight: 800; }
        .btn-bonus {
            background: linear-gradient(135deg, #fbbf24, #f97316);
            color: white;
            padding: 14px;
            font-size: 17px;
            width: 100%;
            border: none;
            border-radius: 14px;
            font-weight: 700;
            cursor: pointer;
        }
        .btn-disabled {
            background: rgba(100,100,100,0.5);
            color: rgba(255,255,255,0.5);
            cursor: not-allowed;
        }
        
        /* Logout Button */
        .logout-btn {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
            color: #fca5a5;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
        }
        
        /* Footer */
        .footer { text-align: center; padding: 24px 0; }
        .footer-text { color: #c4b5fd; font-size: 13px; }

        .password-wrapper {
            position: relative;
            width: 100%;
        }
        
        .password-wrapper input {
            padding-right: 45px !important;
        }
        
        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px 8px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 18px;
            transition: color 0.2s;
            z-index: 10;
        }
        
        .password-toggle:hover {
            color: #00ffff;
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
        
        .modal-overlay.show {
            display: flex;
        }
        
        .modal-content {
            background: linear-gradient(135deg, rgba(10, 20, 40, 0.95), rgba(15, 30, 60, 0.95));
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

    
        .days-badge {
            min-width: 9ch;
            max-width: 9ch;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
            font-weight: 700;
            line-height: 1;
        }
        
/* === PRO LOADING SCREEN === */
#loadingScreen {
    display: flex;
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

.loading-card {
    background: rgba(10,20,40,0.85);
    border-radius: 24px;
    padding: 40px 32px;
    border: 2px solid transparent;
    background:
      linear-gradient(rgba(10,20,40,0.85), rgba(10,20,40,0.85)) padding-box,
      linear-gradient(145deg, rgba(0,255,255,0.4), rgba(123,67,255,0.4)) border-box;
    box-shadow: 0 0 40px rgba(0,255,255,0.25);
    text-align: center;
}

.loading-spinner {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 4px solid rgba(0,255,255,0.15);
    border-top-color: #00ffff;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

.loading-text {
    color: #c4b5fd;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

</style>
        
	<!-- 
Bu kodu index.html dosyanızın <head> bölümüne ekleyin 

<script>
function showLoginLoading() {
    const el = document.getElementById('loadingScreen');
    if (el) el.style.display = 'flex';
}
function {
    const el = document.getElementById('loadingScreen');
    if (el) el.style.display = 'none';
}
</script>

</head> taginden ÖNCE
-->

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging-compat.js"></script>

<script>
// ============================================
// Firebase Configuration
// ============================================
// TODO: Buraya kendi Firebase config'inizi yapıştırın
const firebaseConfig = {
  apiKey: "AIzaSyDe_cjESa1hQoGiabRoLO2Tmj6JrZVB9NY",
  authDomain: "arcastra-eba62.firebaseapp.com",
  projectId: "arcastra-eba62",
  storageBucket: "arcastra-eba62.firebasestorage.app",
  messagingSenderId: "547925747222",
  appId: "1:547925747222:web:01a6b875fe14624d777737"
};

console.log('Initializing Firebase...');

firebase.initializeApp(firebaseConfig);
console.log('Firebase initialized:', firebase.apps.length);
const messaging = firebase.messaging();
// Auto-login when DOM is ready  
document.addEventListener('DOMContentLoaded', async function() {
    // Auto-reload when internet connection restored
    window.addEventListener('online', () => {
        console.log('Internet connection restored - reloading...');
        location.reload();
    });
    
    console.log('=== AUTO-LOGIN BAŞLADI ===');
    
    const isLoggedIn = localStorage.getItem('isLoggedIn');
    const userId = localStorage.getItem('userId');
    const storedUser = localStorage.getItem('currentUser');
    
    console.log('isLoggedIn:', isLoggedIn);
    console.log('userId:', userId);
    console.log('storedUser:', storedUser ? 'VAR' : 'YOK');
    
    if (isLoggedIn === 'true' && userId) {
        // Try to load from localStorage first
        if (storedUser) {
            currentUser = JSON.parse(storedUser);
            if (!currentUser.username && currentUser.email) {
                currentUser.username = currentUser.email.split('@')[0];
            }
            
            console.log('currentUser loaded from localStorage:', currentUser);
        } else {
            // If not in localStorage, fetch from backend
            console.log('storedUser not found, fetching from backend...');
            try {
                const response = await fetch(API_ENDPOINTS.getAllUserData, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({ userId: userId })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.user) {
                        currentUser = data.user;
                        currentUser.userId = userId;
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        console.log('✅ User data fetched from backend:', currentUser);
                    } else {
                        console.error('❌ No user data in response');
                        localStorage.removeItem('isLoggedIn');
                        localStorage.removeItem('userId');
                        return;
                    }
                } else {
                    console.error('❌ Failed to fetch user data:', response.status);
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('userId');
                    return;
                }
            } catch (error) {
                console.error('❌ Error fetching user data:', error);
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userId');
                return;
            }
        }
        
        setTimeout(() => {
            console.log('Showing app...');
            document.getElementById('authScreen').style.display = 'none';
            document.getElementById('app').style.display = 'block';
        // keep loading until app fully ready
            console.log('Calling initApp...');
            initApp();
            console.log('initApp completed');
        }, 500);
    } else {
        console.log('Auto-login FAILED - missing data');
    }
});
// ============================================
// Firebase Cloud Functions URL'leri
// ============================================
// TODO: firebase functions:list komutundan aldığınız URL'leri buraya yapıştırın
const FUNCTIONS_BASE_URL = 'https://europe-west1-arcastra-eba62.cloudfunctions.net';

const API_ENDPOINTS = {
  registerUser: `${FUNCTIONS_BASE_URL}/registerUser`,
  loginUser: `${FUNCTIONS_BASE_URL}/loginUser`,
  updateFcmToken: `${FUNCTIONS_BASE_URL}/updateFcmToken`,
  startMining: `${FUNCTIONS_BASE_URL}/startMining`,
  applyAdBoost: `${FUNCTIONS_BASE_URL}/applyAdBoost`,
  claimReward: `${FUNCTIONS_BASE_URL}/claimReward`,
  getUserData: `${FUNCTIONS_BASE_URL}/getUserData`,
  getAllUserData: `${FUNCTIONS_BASE_URL}/getAllUserData`,  // NEW: Optimized single request
  getMiningSessions: `${FUNCTIONS_BASE_URL}/getMiningSessions`,
  sendMiningNotification: `${FUNCTIONS_BASE_URL}/sendMiningNotification`,
  updateLevel: `${FUNCTIONS_BASE_URL}/updateLevel`,
  claimDailyReward: `${FUNCTIONS_BASE_URL}/claimDailyReward`,
  claimReferralEarnings: `${FUNCTIONS_BASE_URL}/claimReferralEarnings`,
  getReferrals: `${FUNCTIONS_BASE_URL}/getReferrals`,
  getActiveReferrals: `${FUNCTIONS_BASE_URL}/getActiveReferrals`,
  getTransactions: `${FUNCTIONS_BASE_URL}/getTransactions`,
  getLeaderboard: `${FUNCTIONS_BASE_URL}/getLeaderboard`,
  updateProfile: `${FUNCTIONS_BASE_URL}/updateProfile`,
  updateEmail: `${FUNCTIONS_BASE_URL}/updateEmail`,
  updatePassword: `${FUNCTIONS_BASE_URL}/updatePassword`,
  deleteAccount: `${FUNCTIONS_BASE_URL}/deleteAccount`,
  sendPasswordReset: `${FUNCTIONS_BASE_URL}/sendPasswordReset`,
  resetPasswordWithCode: `${FUNCTIONS_BASE_URL}/resetPasswordWithCode`,
  sendEmailVerification: `${FUNCTIONS_BASE_URL}/sendEmailVerification`,
  addPendingReward: `${FUNCTIONS_BASE_URL}/addPendingReward`,
  getPendingRewards: `${FUNCTIONS_BASE_URL}/getPendingRewards`,
  claimPendingReward: `${FUNCTIONS_BASE_URL}/claimPendingReward`,
};

// API Key for mobile app security
const API_KEY = 'arc_astra_mobile_2024_x7K9mP3qR8wL5nF2';

// Helper function to add API key to headers
function getApiHeaders(additionalHeaders = {}) {
  return {
    'Content-Type': 'application/json',
    'X-API-Key': API_KEY,
    ...additionalHeaders
  };
}
  

// ============================================
// PENDING REWARDS MANAGEMENT
// ============================================

// Add pending reward to Firebase
async function addPendingReward(rewardType, amount, metadata = {}) {
    try {
        const response = await fetch(API_ENDPOINTS.addPendingReward, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({
                userId: currentUser.userId,
                rewardType, // 'daily', 'levelUp', 'referral'
                amount,
                metadata
            })
        });

        const data = await response.json();
        if (response.ok) {
            console.log(`✅ Pending ${rewardType} reward saved:`, amount);
            return data.rewardId;
        } else {
            console.error('❌ Failed to save pending reward:', data.error);
            return null;
        }
    } catch (error) {
        console.error('❌ Error saving pending reward:', error);
        return null;
    }
}

// Get all pending rewards for current user
async function getPendingRewards() {
    try {
        const response = await fetch(API_ENDPOINTS.getPendingRewards, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({
                userId: currentUser.userId
            })
        });

        const data = await response.json();
        if (response.ok) {
            console.log('📋 Pending rewards loaded:', data.pendingRewards.length);
            return data.pendingRewards || [];
        } else {
            console.error('❌ Failed to load pending rewards:', data.error);
            return [];
        }
    } catch (error) {
        console.error('❌ Error loading pending rewards:', error);
        return [];
    }
}

// Claim a pending reward
async function claimPendingRewardById(rewardId) {
    try {
        const response = await fetch(API_ENDPOINTS.claimPendingReward, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({
                userId: currentUser.userId,
                rewardId
            })
        });

        const data = await response.json();
        if (response.ok) {
            console.log('✅ Pending reward claimed:', data.amount);
            
            // Update local balance
            currentUser.balance = (currentUser.balance || 0) + data.amount;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Reload app to refresh pending rewards and hide claimed buttons
            await initApp();
            
            return true;
        } else {
            console.error('❌ Failed to claim pending reward:', data.error);
            return false;
        }
    } catch (error) {
        console.error('❌ Error claiming pending reward:', error);
        return false;
    }
}

// Check and restore pending rewards on app init
async function checkAndShowPendingRewards() {
    if (!currentUser || !currentUser.userId) return;
    
    console.log('🔍 Checking for pending rewards...');
    const pendingRewards = await getPendingRewards();
    
    if (pendingRewards.length === 0) {
        console.log('✓ No pending rewards');
        return;
    }
    
    console.log(`📦 Found ${pendingRewards.length} pending reward(s)`);
    
    // Process each pending reward and set appropriate flags
    for (const reward of pendingRewards) {
        console.log(`📦 Restoring pending ${reward.rewardType} reward:`, reward.amount);
        
        if (reward.rewardType === 'daily') {
            // Set daily reward flag
            dailyRewardAvailable = true;
            console.log('✅ Daily reward flag restored');
        } else if (reward.rewardType === 'levelUp') {
            // Set level up flag
            const metadata = reward.metadata || {};
            const level = metadata.level || (currentUser.level + 1);
            d.pendingLevelUp = level;
            console.log(`✅ Level up flag restored: Level ${level}`);
        } else if (reward.rewardType === 'referral') {
            // Referral earnings already in currentUser.pendingReferralEarnings
            console.log('✅ Referral earnings already loaded from backend');
        }
    }
    
    // Re-render to show claim buttons
    render();
}

// Show pending daily reward modal
function showPendingDailyReward(reward) {
    console.log('🎁 Showing pending daily reward modal');
    const modal = document.getElementById('dailyRewardModal');
    if (!modal) return;
    
    // Store reward ID for claiming
    modal.dataset.rewardId = reward.id;
    
    // Show modal
    modal.style.display = 'flex';
    dailyRewardAvailable = true;
    
    // Make sure claim button is visible and functional
    render();
}

// Show pending level up reward modal
function showPendingLevelUpReward(reward) {
    console.log('🎁 Showing pending level up reward modal');
    const modal = document.getElementById('levelUpModal');
    if (!modal) return;
    
    // Store reward ID for claiming
    modal.dataset.rewardId = reward.id;
    
    const metadata = reward.metadata || {};
    const level = metadata.level || currentUser.level;
    const amount = reward.amount;
    
    // Update modal content
    modal.querySelector('.level-badge').textContent = level;
    modal.querySelector('.reward-amount').textContent = amount;
    
    // Show modal
    modal.style.display = 'flex';
}

// Show pending referral reward modal
function showPendingReferralReward(reward) {
    console.log('🎁 Showing pending referral reward modal');
    const modal = document.getElementById('referralRewardModal');
    if (!modal) return;
    
    // Store reward ID for claiming
    modal.dataset.rewardId = reward.id;
    
    // Show modal
    modal.style.display = 'flex';
    
    // Update UI to show pending earnings
    render();
}

// ============================================
// FCM (Firebase Cloud Messaging) Functions
// ============================================
let fcmToken = null;

// Request notification permission and get FCM token - CRITICAL for mobile notifications!
async function requestNotificationPermission() {
  console.log('🔔 [FCM] Starting notification permission request...');
  
  try {
    // Check if browser supports notifications
    if (!('Notification' in window)) {
      console.warn('⚠️ [FCM] Browser does not support notifications');
      return null;
    }

    // Check service worker support
    if (!('serviceWorker' in navigator)) {
      console.warn('⚠️ [FCM] Service workers not supported');
      return null;
    }

    console.log('✅ [FCM] Browser supports notifications and service workers');

    // Check if service worker file exists before registering
    let swExists = false;
    try {
      const swCheck = await fetch('/firebase-messaging-sw.js', { method: 'HEAD' });
      swExists = swCheck.ok;
    } catch (e) {
      console.warn('⚠️ [FCM] Service Worker file not found - notifications disabled');
      return null;
    }

    if (!swExists) {
      console.warn('⚠️ [FCM] Service Worker file not available - notifications disabled');
      return null;
    }

    // Register service worker FIRST
    let registration;
    try {
      registration = await navigator.serviceWorker.register('/firebase-messaging-sw.js', {
        scope: '/'
      });
      console.log('✅ [FCM] Service Worker registered successfully:', registration);
      
      // Wait for service worker to be active
      await navigator.serviceWorker.ready;
      console.log('✅ [FCM] Service Worker is ready');
    } catch (swError) {
      console.warn('⚠️ [FCM] Service Worker registration failed (this is OK - notifications disabled):', swError.message);
      // Return null to disable FCM without breaking the app
      return null;
    }

    // Request permission - AGGRESSIVE MODE
    console.log('🔔 [FCM] Current permission status:', Notification.permission);
    
    let permission = Notification.permission;
    
    if (permission === 'default') {
      console.log('📱 [FCM] Requesting notification permission...');
      permission = await Notification.requestPermission();
      console.log('📱 [FCM] Permission result:', permission);
    }
    
    if (permission !== 'granted') {
      console.warn('⚠️ [FCM] Notification permission denied or blocked');
      return null;
    }

    console.log('✅ [FCM] Notification permission GRANTED');
    
    // Get FCM token
    try {
      console.log('🔑 [FCM] Getting FCM token...');
      const token = await messaging.getToken({
        vapidKey: 'BDvw3djSgLBuH4zlK80RoTCQLdek4Lv0PGjicCLwiU_gZZxq5fJcBrFgAOJPovzkL_g-dR8J_mL2IaZyKX5csy4',
        serviceWorkerRegistration: registration
      });
      
      if (!token) {
        console.error('❌ [FCM] No token received');
        return null;
      }
      
      console.log('✅ [FCM] Token received successfully!');
      console.log('🔑 [FCM] Token:', token);
      
      // Save token globally
      window.fcmToken = token;
      
      // Send token to backend
      await updateFcmToken(token);
      
      return token;
    } catch (tokenError) {
      console.error('❌ [FCM] Error getting token:', tokenError);
      return null;
    }
  } catch (error) {
    console.error('❌ [FCM] Error in requestNotificationPermission:', error);
    return null;
  }
}

// Save FCM token to backend - CRITICAL for receiving notifications!
    async function updateFcmToken(token) {
  console.log('💾 [FCM] Saving token to backend...');
  
  try {
    const userId = localStorage.getItem('userId');
    if (!userId) {
      console.warn('⚠️ [FCM] No userId found - cannot save token');
      return false;
    }

    console.log('📤 [FCM] Sending token to backend for user:', userId);
    
    const response = await fetch(API_ENDPOINTS.updateFcmToken, {
      method: 'POST',
      headers: getApiHeaders(),
      body: JSON.stringify({
        userId: userId, 
        fcmToken: token
      })
    });

    if (!response.ok) {
      throw new Error(`Backend responded with status: ${response.status}`);
    }

    const data = await response.json();
    console.log('✅ [FCM] Token saved successfully to backend:', data);
    
    // Store in localStorage for debugging
    localStorage.setItem('fcmToken', token);
    localStorage.setItem('fcmTokenSavedAt', new Date().toISOString());
    
    return true;
  } catch (error) {
    console.error('❌ [FCM] Error saving FCM token:', error);
    
    // Retry once after 2 seconds
    console.log('🔄 [FCM] Retrying token save in 2 seconds...');
    setTimeout(async () => {
      try {
        const userId = localStorage.getItem('userId');
        if (userId) {
          const retryResponse = await fetch(API_ENDPOINTS.updateFcmToken, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({ userId, fcmToken: token })
          });
          
          if (retryResponse.ok) {
            console.log('✅ [FCM] Token saved on retry');
            localStorage.setItem('fcmToken', token);
            localStorage.setItem('fcmTokenSavedAt', new Date().toISOString());
          }
        }
      } catch (retryError) {
        console.error('❌ [FCM] Retry failed:', retryError);
      }
    }, 2000);
    
    return false;
  }
}

// Handle foreground messages
messaging.onMessage((payload) => {
  console.log('Foreground message:', payload);
  showCustomNotification(
    payload.notification.title,
    payload.notification.body,
    payload.data
  );
});

// Show custom notification
function showCustomNotification(title, body, data) {
  const notificationHtml = `
    <div class="custom-notification" style="
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      z-index: 10000;
      min-width: 300px;
      animation: slideIn 0.3s ease-out;
    ">
      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <div style="font-size: 24px; margin-right: 10px;">⛏️</div>
        <div style="font-weight: bold; font-size: 16px;">${title}</div>
      </div>
      <div style="margin-bottom: 15px; font-size: 14px;">${body}</div>
      <button onclick="this.parentElement.remove()" style="
        background: #00d4ff;
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        width: 100%;
      ">OK</button>
    </div>
  `;
  
  const div = document.createElement('div');
  div.innerHTML = notificationHtml;
  document.body.appendChild(div);
  
  setTimeout(() => div.remove(), 10000);
}

// Initialize FCM on page load
window.addEventListener('load', () => {
  setTimeout(() => requestNotificationPermission(), 2000);
});

</script>

<style>
@keyframes slideIn {
  from {
    transform: translateX(400px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

        .days-badge {
            min-width: 9ch;
            max-width: 9ch;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
            font-weight: 700;
            line-height: 1;
        }
        
/* === PRO LOADING SCREEN === */
#loadingScreen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

.loading-card {
    background: rgba(10,20,40,0.85);
    border-radius: 24px;
    padding: 40px 32px;
    border: 2px solid transparent;
    background:
      linear-gradient(rgba(10,20,40,0.85), rgba(10,20,40,0.85)) padding-box,
      linear-gradient(145deg, rgba(0,255,255,0.4), rgba(123,67,255,0.4)) border-box;
    box-shadow: 0 0 40px rgba(0,255,255,0.25);
    text-align: center;
}

.loading-spinner {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 4px solid rgba(0,255,255,0.15);
    border-top-color: #00ffff;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

.loading-text {
    color: #c4b5fd;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

</style>
        


<script>
function showLoginLoading() {
    const el = document.getElementById('loadingScreen');
    if (el) el.style.display = 'flex';
}
function hideLoginLoading() {
    const el = document.getElementById('loadingScreen');
    if (el) el.style.display = 'none';
}
</script>

</head>
<body>

    <!-- Splash Screen -->
    <div id="splashScreen" class="splash-screen">
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <img src="data:image/png;base64,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" alt="Arc Astra" class="splash-image">
    </div>
    
    <!-- Toast Notification -->
    <div id="toastNotification" class="toast-notification"></div>
    
    <!-- Tech Background -->
    <div class="tech-bg"></div>
    <div class="grid-lines"></div>
    
    
        <div style="
            color: #00ffff;
            font-size: 18px;
            font-weight: 600;
            font-family: 'Segoe UI', sans-serif;
            text-align: center;
        "><br><span style="font-size: 14px; color: rgba(255,255,255,0.6);"></span></div>
    </div>
    
    <div id="particles"></div>
    
    <div id="authScreen" class="auth-screen" style="display:none;">
        <div class="auth-logo" style="text-align: center; margin-bottom: 30px;">
            <img src="data:image/png;base64,UklGRi4ZAABXRUJQVlA4WAoAAAAwAAAAlQAAlQAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZBTFBIgAwAAA3Axv//aqeRPt+Tm+CWlMG6SJ0idVdKvWUEqaQKM+ir7u2zdasbVRyW+jaBWVIdq8soNnXo0nSW0E5YcoHc5Pvg/M+5J7n3Ptx9RcQE8H/YD63bCfTYA+ylvZ329g5c+Q68z/2APT2AGlqqqd7eTuv37Phm+4ctFWxoHamHAsN6MmAgtUMG6o71lWvDniOwQhZpo9xRP/qn1orV0nhFFQ7JqUDntL9RsWgYeqwSiq++dmG+YjW/MKeajK3jBzRVoFyHARoHHy9ng2uuXJWvMDr0srHf6Zv161pan7q2mszP/99fVZgfXQP7MOzAwj9saRpwfHbRgscKlUSHzjLxmguP+bsdC6+tcUbW+dGaSlJ1Izgmpne+2MQ5cjYQ3fBUa+XQQQcQtmou/K8dT8+vImPrpNrGyuEjOrFiwNjt//OrXefJ2UA0+/mWipHa2t6f/IM31pCxddLQFyrH74YNkQNiaw7e/bxezgaiW59qqRibN/6YxL0vA4WlV9SQsTV60uKKUXj8jLHCCFb2Anj383o5G4jmrt1SKVj/xLyxCDpe/gPxwrNnDSZja7+jn60YvPrEGacPzL/bFBF+s3CWnA3W/JeaK4b+9Mgf26tyJBeenNlDGcF+J66oGIaWXaR+94t6nJE1f+2WSpFhYdl5w8hY7Hf2YxXjwGNDmz4K8dbOc+VsLK5+65MKcdSDhOv+8TcBdS45dxgZCmwNu+ShQkXofxOJg2/8l9aYeefrGXJRskAwc9M7FWFKJxgQnFjXGIPCqpP3I6UsCwQCes57PF8B6i4BkLGomre8NcBH78+tckAWQiRanN/RVAFmgpEFFscOaQyx4piDhQWIoJFlIqvn1atay97ICwBZGKyqG59oDTX//IpqBEYOCMvCgtOGrS57swEcGQHW4YesDvHskQcAjgBZJqXV88qG5jJ34KlgYZF4w9pPQltevLYKR4bIsgA5gDVxdEOZm0nRYyc/4oBeHnosOMKOLAxWCKpnNjSXtXEngJXG4mebfhPwty/MrkGWcGRESsGEMQ3lTPVgkdrqPefxfAwahx8lAMuRUcwgjGrq1zWXsUNPJMtz3RRqXT67xjICC8cERsBxQxrKV+4GsELCAat3/ZrmAI19J8lkKSu6cl1z2Tr+IBxZAVDMsib1awi1rrq6J5lacNyBK8pVr+tAiLADIHpf/tb6AE0d58vIqRQDonmvflKmpgIWWEYWFgiscROfKwTyj181CBBYCXGBNebUpeWpbiZYBllYODIgRM/TN38R4J1vfywbBFg4BAJmvr++LM0Ei9QWsgXs1/llqPD41GEyODIySrJg+IVPugyNvIAsLYxgN4kf/e6nxC2KtZje/JsyNBus4gAZ3u+bxOpj95PJ1Bp+xYP5sjPudLKVgd3PkXL97+vJflJNU7nRArCycIR4vS0NT548Vs7G6l2/Ml9mjjyMDGUBVtsqUm95bRbZT6ppKi+568BKJcsIQLy5Nx2LjzhcTiUDMli9pz2fLyuT9sEiteWIuNX2JEW2PDs3IrWFbBGfVNNUTnotIGMj8UyuGF7Y9zg5DWABMgyc/mxrGZnaiVWcQVjbXqLoltVzqsnSsnTG4NXlY+g0ihVYFlgsVnGs2+do4eIAq+eVDc1l43Kw0lkIEf/iV2TY8vSN1ZYcklMA4/ZvKBcjzyS1DGARV+e/kWlT6wzZUiAuh6yeVzY0l4k5YMkKOTLJ1ntfZ5NfMn0w4JDACgETRzeUh3HHYmE5JAs5ijlqf4KM3/pmukymVvVljS3lQLMpXo4wQrzxfVZ+tH4QGVvH7ftCOTjpACxhOYVlJKzvFpH5+l/Pk2MysrAcgujKdc2ll7vSxGWlAASO+M9cdiw+bT9ksLAsIbAM1nFDGkrvhJFYGESyCIq/vkgXfvL6PFkkmniEwERzX2ouMVVdQ/EieWmuK1g+4XA5CWQwIFmHj2woMU8RVjoZK2ZtW0OXNr80n9QWQSNr/kvNpVX3U4p25Ii4OpfQxS/sf3gqQAZk4PDxK0prmgFZToEjC7De+7CrWv79n6qcJCwERgZufGV9KY38ESayLOSQbAGo/QlSDq2jZy/RM6HPrtjuLV+MItkCCwQChl/4pEvook5kR2CskCPAst74PsXI+wdHu/N96Ejo6BPr2dFGSjmyLExQV332m9IZeSFYGMkkGzlCbfeSnLuFrHukAWQskAEGTF1eKJnZYAEYpQDLaKlSnHAQVswCKw3ICRYgECADF3/1bqkMPZ/s9d2LJPe6CnBMBjkdSgAjDCALq/eP/8MlcgVYWfEIKc/pj0X3tGJB66o/flwS+psLcQS4OFnbXkvRfx4l2vvSRS4FXwICUHGocwkpLzFW9xPWxZ98XApDp4JBZGh99UqKkT/CIqWKMSjmVCIuaqcscwlcARYYWViWlSAvJOXsTkQXirBSBY24bOPH3W9kPY4MYBlZlpPW/zbFuONwl2RsQFi1U5a5u+lmENmKtqdJOQdEokFYBhk5CzmgANZlGz/uZjpiLIBwGoXg1/+dYtxYcJLAyAILKwsrAAIQtbPuL3SvqhsxMhIWGIEValtIyjlgJYiUBuSALCwHAAWSp33/evc6fgTIwiCDMAgM4rlciqPG44gsBaAAAqEkwDEZUPXtD7Z2p9xcAGEAGWSBEWLbSpJ1DYiUFlbMCCwwxQosAbZk4KTaxm6kMwYCBiFjIbAQgBeT8sj9wSAckJFjwhAZopiRERgMMoDAEmjuqtbu0/MWLIIWgBEWYH35agrNwgiMAiDAMgIs2TEJMIhkWQBGnFTb2G30E4OjQGojR+1PkvLICYiUFgYQAgthAbJwRLEibGnucy3dpfYmAIPSGIQjNn+Q5iqMUoAjI8uyABNZBowck2UUCFpgnXzQou4yCyxAxB0QwY5HSTluP4QFWAZZFo6QhYywLCwSLUsGZFlGANaCF5u7x9CpWAAOKJD44VcpdDUYGZBFskEYkbEFWJZF4uhTlnePu8hWltW2mpSHjgUQBpBlZIIyMSvJAgeytG5Y3dwdxh2CVZxAwPo/pjmwHUugGEKgECIukgXIyJngEZOXd4PcHWQp4srfR0q90zB0ICblAKBXbayWYncAjBpi5Ezghhe3dN3kWqxiZCPLaiKt/7J8ayuAE/6qKvI7oZqdVBdR217dXt3/jglGRQjL4BH1d3dZr59hUawFlqP8wlQYHEvpDmiHdtppLwLaaf/Th7fmDCDLMggQApj25UddNbWDrGWeVLpu7zU/OI6gECLZwIj6+wtd038BlgAjA3KSoy/WUtqtj9+Uw2BkEbYcGZjS9nrXXAIIC4EAZDlAx+OUepPPdWQAETSRIwvRZ8aKQlfUzcYCkVZWQBs+Krn8A9f2dYTBckxYlgxMaXu9K84FgdNZgCweovTf2jFFAJYVA2QhcN8ZKwrZ9a8HjIxSiPB7X5eeOu+pH24BMgoh4uLUT7dlV90OyICRhQUGgQp3U/rmoz9fKgSI1I7RY092O245YlYfRwSFI8uRBbCG8vjglDFkKrbdnyN7f7qQf+xNshBCAPl7ysTWNfNUhGUk3v4X1AVQWLTh7lxS6kcpk372uNFYWJZlJAuxdhG4S+DJtuuz+KKxXLBl7XzAAgvAAt5eRLa5g/elF+zavAV4cMqYDBZSPhcdcqIsLLCwZO34V4DcwYNi337qpEnX1gCFmj0P/Rpv/XBqcW//sYy0LLpFICywALEYoP/d+1XFqpY/mVB3E/Fc9cTTn2qBVydHxXghZVSN0fkCBIh45+ux2woE97ms4ZPQtAJYFpxe9wJ8XdcLy7JiFj/fXU7ccfe1fUifbwHGHQ8GxH6j3gzU/QgcIaDP5Ffz7N3TDyEElsWuRZTXtzbPKoK9wElgAVbuyudbY2OrQQAWx7R8zp4eJAtBY67M8PiMWrAAyyKuE0g5fs8nsfzeAaTsuZsee1LEdyyizHrD+zOxDMiyqNlLWivq2Rb7pOX4kOCDOqjpAVaKxZTfx88eI5Per02OQmJrJ/HWFVf1CcBf3gUN3AVYCW//sgx98tp8BI6JPQLW1R0jx8g/SvjN31+TC+Tf2Anu2wki8Yv7KMcP75lZi6MYfFIHtNx/Rx8FVrcnFP510MxewK7GTYC21vQhcedHSyjL+X/6w0GHjnNs+2ebib/66L/ulzMdTR+QnP/b3Wftw/bXqwC8cV4fC5xnd49elOn8R+9+8WV1rLcIv3b/qN6D+LNJm1/+vsmT+GmzbMp+vq09ltKfvrnze4pubhGJpmJbLgqcVMnN//8eVlA4ILgKAAAQNQCdASqWAJYAPlEijkWjoiuU2Z1AuAUEpu3V7XDWQd92+YD5mq5/Z/wz6wO4/p3zNeJf97/Ufxd7SHmAfwj+s9OnzAfsb+yvvfeh/0AP1x///Yp+gT5aP7b/DT+7H7Ye0fmrH9E7f/8fytp9V+a/sHFTwAny9oFhB4Kd5H+eekX+u8QLzX2A/5n/jvVd/lP+n/gfyg9o/5h/df+77gf8s/q//X/vftKevD9zPY0/XP//m2iswme3rwpRuhYl9dT6EoLaOo3rt27qjvTpn3cbk3uVfs1G3VdvyWvUG/SOxhvsnHPbDAClcBsDlz6CGrto6yRT3zYgn9QpGrv+bOESAP5RMLkj3pNtyJAbub+FgGwFHpVgaFw2KGv/Bq0nnUQrn+WhP1WB9HpwCzN7Ld+XFN/CkZcfYhythEYi7Ai4YYON3FY/xedjq9w+E7QohyPVS1RyF/WQSv99jt9WR+57vw9tXDQpBRTvBeSHbrg/8H4RjZdojcXBQv6uIMNj3AreirLIPUVMg3uI4Wd/vIgKiP1SLIo9zMVFvw0YJ1vxxVQab1JZeLZC7bm8W0eA7NAAAP7+BtErpTIiTjbbS+lb1X/sfUhYX6riifM8AXk35GoSNz+FEM4gBO9mPthIzgkvJjjTztSy1CtkuRh7BrqEGxwruHL4pl/E68AAOT39LnIznHQ4AJ7TCpjkRyQozL2c7lx4c01xPV9FNGcRy/3vu9fnspv/e1D4dupiuZWjqi4rSXL/XSw/vyTCPRuNa0AxC6jHeMn/KQBzaK5sTvqy2ZFePboYSJTD69xQN8l8MQfKbDqSNYoGCtDVz11hMEV87skxg9pEhi1D/3TxccH/m5p2NxncEFYGb/hVEEgRj5pesbUudK/6xWmHb2QsjW4aRZO+FaPQBal9by6bDmTZxaq8wDz6o6igrDYwe20LURNoO1VaEoVD5labQ0ov9M1iLxgbz2aPePwX77r7wuo3zDmdBG/BrCzAZEY7vXQAz3/xgAGTZerYKXLLdTihoU6ssgKElBXbdgDETLjk+e99B+o0VBhAoXeofZBuOQzCdJle6kusT9gD+2W+dK8HXcyAyYlyXydsw+pjxaCLWUgGmpDwnnzYC3BIXWllJCg1+A28KQTI3fv2q2G3VHtwyT/rRKDqudgBuWilFiMon4uGwHZDQbBG5RQKbVkGi0HJSx9qE5WNnA5tXgPvzRotRhRlPLm7RQG0DtQWmjaK+jxnrINbHr/BX8jWla6iHaAO3szaJA/AkMviI19+ckzv/X7RQU9CoX9XTPURqQQ49vgraU9QG+xDqxAaPOyKRG1fukPB9VljijZD8KgZTGS22pvD41d/Z4NZCyT40SUx03O5J1EYo9WBKqldQqn6AO4Ge/3MYiClIagDcZKex07jF40RIiPMM5d3RIp9/2bk6QPvHOpc5Dpi0VyJaDCs51v0CGMjhbZuX9UB9RsurdzlzBgO59lhTuCsSTyzzyRfGcuCd8oK5AVJdtstmvGGeIqPx3St3w/69xsv5TD/2EIqgAV6xH+yZWbGzaMrcrmvUJjkVYAunDrcXpB7dcQID/idPLpCKBR6J0BGSPG3j+8XpXHStbZQNqHsE4tSI8OayQgbs7V5SQJf981teOxmvHEsA1Oq1fCQh2oRpwZbZqq9QyomtDenyscOHB/B/B/eu3Y85BDFP71oGQOfQu/70s82bHa4Fk63O4G5yVs/WHp/UbI6efAIDYuKMZ5mSmiled4Y9R7JIcWBH/r3Dav2XAPCGVeisjVfmwNZjIf+SJ/RpKAKDOBhu7hbV7plsIrIZwIby4cXSkwci2mDmUjqvJcSN/T38HsfBFpk+m8Qkid4KGZdvL5CjpZpFcKcpgj+LMztTVmpwmCrEth25Pfmxo+PhcHKLXmwhpc8ylSK18fqXf8W4QBxullXsaV3kzJ+vAZstfsTdDOk1Qxk2zHL2WIDhhgdjrDgdiFO24mmgluwIls+4kL+EVfnJAWVGy3bniSxQ+3+BUbqlm/zv5IcXZ4mDjvi9wgnzXMpFcRko/w03e/CaDwWdQxH+E8CDtWsKv0ehF40HuvDPg69Vl2LtbZLKp8f9+DPBftp4CwVASn/XfJweADHWaTICuDRRJEnL1L+S2q3xq/eEdNGiltP0M2eWdJH9mhpPHKlD6EgbfacGU0tgUzIabBjEH9GbFFsx54bftY82F1ml10uneRP2Ykd6dXQbRw5imoZ0O9BV8Wpy2vOB4QFykzE9CVkPyaZr+q5vr1zJWOElGcft6mu8126c7F55vB+XOcTgnber0KE0s3TBld61GRj8nAW4OC8m7F5nBpeGy/dgMIPEadTYOdazTwO8yS4s1oSu1ESuoGFh/z4mYAhpLpjPczzbfR0PXWigF+71tDeB8yFu6QM3O7lhWhX+YweqexJ5RV3mEvVxak+VeclomBXHsP0iqh60J58kxOXK8erb277/ZHtHQsEBH4oBKXyy47Pn6Hz8aWcCzvT+kRw3vr+6oYUoef1pLpnA/6ANxkP7qGsTKGdQQuPzUgBlWFjyqjMF58lvzZNI7sjZnvs7E2FAwOrjOC3BVFv46AroV8bAZ//LPbksquo/ez+o9wC7GIX8HmdtFi6I4fa+j+2rV2oM34KGnIgyatlep24ljB6Nxq3feapjqaPpxtjB6oqjaJckrsg0fRBbmxjvWadJPHOOHCWBYCz9pf2OzgbNyZdvjLYyk4I9OQvuGsJJHcUYAdL7Z2UQIu19DHZpc4ZX6uX6xHMZE7zASCJN83zQD6mAigp/OhHZiNXJ/0RkIoyt5f+peYFzUVrikgTbkYb/B1H4tY7wMFUfp6BzWUjY2sOhxySjH7WhTIuOe4h0eF2w29oiIbbqk26+tr0ZDf8QLRDUIbgJokHg6HGg3OhPiEYN5fcTSQr/tEmjFeubDuRSIMHUHbWe9gscQ/FQJ8KxJ9HYlPm58N+Bvz3VWD3AGRUMMxoqfWdwCBvgMQUZkiTqka/QvCafuSTbILnqI9hs9ZH6K1Ha7hZUiarg8Ja8Nv3QXAVHjvEdlnhqxvYD/CIcc2xC2rpUFbj6EEL1vmjWL6YYWyLaRjw3z6R4aYSly3CqGEQb3b8//xERnyoWLnv6Ar1Vrnz3t4ajO8e03xVRsImfmizaqr7C3IHDHBOUE2qOVASnUzmwsNeRLCBf8PkEpz73920XHhReZzgzFk4uS6zzjOe5Js+ZKEht75ub/60FjotFYisY1haJFjARTuokBDMd2H4huFigze3DWlTbL2IQXexknZjp5s9CdXCJtY41TDwBRmXF1Gev8Lnq+Xf/TOfgpR3OEzlvj8NZ1E/ZLTXDRgYCHLWdBBFF+SXFMF6SBs8G5FziAAbkB8Gtyslt39XRHIDBQCKiqyqWcc97GYDBEZo+kbgVvfb+X8CE+/1plCGISI04fmI7HHdKIBQPIzZcm6K4g0TswXm1GZO9m1lh9tF4fL8L0TtSR9R8Y5xKWhJOob2t5SompwBqaIfW/VMaO7lSIc2ZoKGuA4k2MrUWxoTvNdzkjxZYLRlC8W26L+MkJwJLG3ZJcn33e1MOSNyqu2vYZXaYmRm79aQGtVYIRwDln1DqJvYJDFvXlGRbWnkti6mymXYae4UGu8MBKwfdY+Fg6RRosOikAAAAAAAAA==" alt="Arc Astra Logo" style="width: 120px; height: auto;">
        </div>
        
        <div class="auth-card">
            <div id="errorMsg" style="display:none;"></div>
            <div id="successMsg" style="display:none;"></div>
            
            <!-- Login Form -->
            <div id="loginForm">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-wrapper">
                        <input type="password" class="form-input" id="loginPassword" placeholder="Enter your password">
                        <button type="button" class="password-toggle" onclick="togglePassword('loginPassword', this)"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="login()">Login</button>
                <div style="text-align: center; margin-top: 12px;">
                    <a onclick="showForgotPassword()" style="color: #00ffff; font-size: 13px; cursor: pointer; text-decoration: underline;">Forgot Password?</a>
                </div>
                <div class="divider">OR</div>
<button class="btn btn-primary" onclick="showSignup()">Sign Up</button>
            </div>
            
            <!-- Signup Form -->
            <div id="signupForm" style="display:none;">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-input" id="signupUsername" placeholder="Choose a username" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="signupFullName" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Birth Date</label>
                    <input type="text" class="form-input" id="signupBirthDate" placeholder="DD/MM/YYYY" maxlength="10" required oninput="formatBirthDateInput(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="signupEmail" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-wrapper">
                        <input type="password" class="form-input" id="signupPassword" placeholder="Create a password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword('signupPassword', this)"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <div class="password-wrapper">
                        <input type="password" class="form-input" id="signupPasswordConfirm" placeholder="Confirm your password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword('signupPasswordConfirm', this)"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Country</label>
                    <div class="country-dropdown">
                        <input type="text" class="form-input" id="signupCountry" placeholder="Select or type your country" required autocomplete="off" onfocus="showCountryDropdown('signupCountry', 'signupCountryDropdown')" oninput="filterCountries('signupCountry', 'signupCountryDropdown')" onblur="setTimeout(() => validateCountryInput('signupCountry'), 200)">
                        <div id="signupCountryDropdown" class="country-dropdown-list"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Referral Code (Optional)</label>
                    <input type="text" class="form-input" id="signupReferral" placeholder="Enter referral code">
                </div>
                <button class="btn btn-primary" onclick="signup()">Create Account</button>
                <div class="divider">OR</div>
                <button class="btn btn-google" onclick="googleLogin()">
                    <svg width="20" height="20" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    Continue with Google
                </button>
                <div class="switch-auth">Already have an account? <span onclick="showLogin()">Login</span></div>
            </div>
        </div>
    </div>
    
    <div class="container" id="app" style="display:none;"></div>
    
    <!-- Menu Sidebar -->
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>
    <div class="menu-sidebar" id="menuSidebar">
        <div class="menu-header">
            <div class="menu-title" id="menuUsername">Menu</div>
        </div>
        <div class="menu-items">
            <div class="menu-item" onclick="openPage('profile')">Profile</div>
            <div class="menu-item" onclick="openPage('announcements')">Announcements</div>
            <div class="menu-item" id="airdropMenuItem" onclick="openPage('airdrop')">Airdrop</div>
            <div class="menu-item" onclick="openPage('leaderboard')">Leaderboard</div>
            <div class="menu-item menu-item-disabled">
                <span>KYC</span>
                <span style="font-size: 11px; color: #666; margin-left: 8px;">Coming Soon</span>
            </div>
            <div class="menu-item" onclick="viewRoadmap()">View Roadmap</div>
            <div class="menu-item" onclick="viewWhitepaper()">Whitepaper</div>
            <div class="menu-item" onclick="openPage('settings')">Settings</div>
        </div>
        <div style="padding: 10px;">
            <button class="profile-action-btn profile-logout-btn" onclick="logout()" style="width: 100%;">🚪 Logout</button>
        </div>
    </div>
    
    <!-- Profile Modal -->
    <div class="profile-modal" id="profileModal">
        <div class="profile-backdrop" onclick="closeProfile()"></div>
        <div class="profile-content">
            <div class="profile-header">
                <button class="profile-close" onclick="closeProfile()">
                    <svg viewBox="0 0 24 24" fill="none">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
                <div class="profile-title" style="font-size: 24px; font-weight: 900; color: white; text-align: center; padding: 20px 0 10px;">Profile</div>
                <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 12px; padding: 15px; margin: 0 20px 20px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 900; color: white;" id="profileUsername"></div>
                    <div style="font-size: 13px; color: #8b5cf6; margin-top: 4px;" id="profileHandle"></div>
                </div>
            </div>
            <div class="profile-body">
                
                <div class="profile-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <div class="profile-section-title" style="margin: 0;">Personal Information</div>
                        <button id="editInfoBtn" onclick="toggleEditInfo()" style="background: rgba(0, 255, 255, 0.2); border: 1px solid rgba(0, 255, 255, 0.4); border-radius: 8px; padding: 6px 12px; color: #00ffff; font-size: 12px; font-weight: 700; cursor: pointer;">
                            ✏️ Edit
                        </button>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Full Name</div>
                        <input type="text" id="inputFullName" class="form-input" placeholder="Enter your full name" style="margin: 0;" disabled>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Email Address</div>
                        <div style="font-size: 15px; color: #666; font-weight: 700;" id="profileEmail">-</div>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Birth Date</div>
                        <input type="text" id="inputBirthDate" class="form-input" style="margin: 0;" min="1923-01-01" max="2007-12-31" disabled>
                        <div id="birthDateError" style="display: none; margin-top: 8px; padding: 8px; background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.5); border-radius: 8px; color: #fca5a5; font-size: 12px; font-weight: 600;">
                            ⚠️ Birth year must be between 1923 and 2007
                        </div>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Country</div>
                        <div class="country-dropdown">
                            <input type="text" id="inputCountry" class="form-input" placeholder="Select or type your country" style="margin: 0;" disabled autocomplete="off" onfocus="showCountryDropdown('inputCountry', 'countryDropdown')" oninput="filterCountries('inputCountry', 'countryDropdown')">
                            <div id="countryDropdown" class="country-dropdown-list"></div>
                        </div>
                    </div>
                    <button id="saveInfoBtn" class="profile-action-btn" onclick="savePersonalInfo()" style="background: linear-gradient(135deg, #00ffff, #0096ff); color: #000; font-weight: 900; display: none;">
                        ✓ Save Information
                    </button>
                </div>
                
                <div class="profile-section">
                    <div class="profile-section-title">Account Settings</div>
                    <button class="profile-action-btn" onclick="showChangeEmail()">
                        📧 Change Email
                    </button>
                    <button class="profile-action-btn" onclick="showChangePassword()">
                        🔒 Change Password
                    </button>
                </div>
                
                <div class="profile-section">
                    <div class="profile-section-title">Share</div>
                    <button class="profile-action-btn" onclick="shareProfile()">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                            <circle cx="18" cy="5" r="3"/>
                            <circle cx="6" cy="12" r="3"/>
                            <circle cx="18" cy="19" r="3"/>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                        </svg>
                        Share
                    </button>
                </div>
                
                <div class="profile-section">
                    <button class="profile-action-btn profile-logout-btn" onclick="logout()">
                        🚪 Logout
                    </button>
                    <button class="profile-action-btn profile-delete-btn" onclick="showDeleteAccount()">
                        🗑️ Delete Account
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Change Email Modal -->
    <div class="change-modal" id="changeEmailModal">
        <div class="profile-backdrop" onclick="closeChangeEmail()"></div>
        <div class="change-modal-content">
            <button class="change-modal-close" onclick="closeChangeEmail()">
                <svg viewBox="0 0 24 24" fill="none">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <div class="change-modal-title">Change Email</div>
            <div class="form-group">
                <label class="form-label">New Email</label>
                <input type="email" class="form-input" id="newEmail" placeholder="Enter new email">
            </div>
            <div class="form-group">
                <label class="form-label">Current Password</label>
                <input type="password" class="form-input" id="emailPassword" placeholder="Confirm with password">
            </div>
            <button class="profile-action-btn" onclick="changeEmail()">
                ✓ Update Email
            </button>
        </div>
    </div>
    
    <!-- Change Password Modal -->
    <div class="change-modal" id="changePasswordModal">
        <div class="profile-backdrop" onclick="closeChangePassword()"></div>
        <div class="change-modal-content">
            <button class="change-modal-close" onclick="closeChangePassword()">
                <svg viewBox="0 0 24 24" fill="none">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <div class="change-modal-title">Change Password</div>
            <div class="form-group">
                <label class="form-label">Current Password</label>
                <input type="password" class="form-input" id="currentPassword" placeholder="Enter current password">
            </div>
            <div class="form-group">
                <label class="form-label">New Password</label>
                <input type="password" class="form-input" id="newPassword" placeholder="Enter new password">
            </div>
            <div class="form-group">
                <label class="form-label">Confirm New Password</label>
                <input type="password" class="form-input" id="confirmPassword" placeholder="Confirm new password">
            </div>
            <button class="profile-action-btn" onclick="changePassword()">
                ✓ Update Password
            </button>
        </div>
    </div>
    
    <!-- Delete Account Modal -->
    <div class="change-modal" id="deleteAccountModal">
        <div class="profile-backdrop" onclick="closeDeleteAccount()"></div>
        <div class="change-modal-content">
            <button class="change-modal-close" onclick="closeDeleteAccount()">
                <svg viewBox="0 0 24 24" fill="none">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <div class="change-modal-title" style="color: #ef4444;">Delete Account</div>
            <div style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 10px; padding: 12px; margin-bottom: 20px;">
                <div style="color: #fca5a5; font-size: 13px; font-weight: 600;">⚠️ Warning: This action cannot be undone!</div>
                <div style="color: #fca5a5; font-size: 12px; margin-top: 5px;">All your data, balance, and progress will be permanently deleted.</div>
            </div>
            <div id="deleteError" style="display: none; background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.5); border-radius: 10px; padding: 10px; margin-bottom: 15px;">
                <div style="color: #fca5a5; font-size: 13px; font-weight: 700;">❌ <span id="deleteErrorText"></span></div>
            </div>
            <div class="form-group">
                <label class="form-label">Enter Your Password to Confirm</label>
                <input type="password" class="form-input" id="deletePassword" placeholder="Enter your password">
            </div>
            <button class="profile-action-btn profile-delete-btn" onclick="event.stopPropagation(); confirmDeleteAccount();" style="cursor: pointer; pointer-events: auto;">
                🗑️ Delete Account
            </button>
        </div>
    </div>
    
    <!-- Goodbye Modal -->
    <div class="change-modal" id="goodbyeModal">
        <div class="profile-backdrop"></div>
        <div class="change-modal-content" style="text-align: center;">
            <svg viewBox="0 0 100 100" width="80" height="80" style="margin: 0 auto 20px;">
                <defs>
                    <linearGradient id="sadGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <!-- Face circle -->
                <circle cx="50" cy="50" r="45" fill="url(#sadGradient)" opacity="0.2"/>
                <circle cx="50" cy="50" r="45" fill="none" stroke="url(#sadGradient)" stroke-width="3"/>
                <!-- Sad eyes -->
                <circle cx="35" cy="42" r="3" fill="#8b5cf6"/>
                <circle cx="65" cy="42" r="3" fill="#8b5cf6"/>
                <!-- Tears -->
                <path d="M 35 48 Q 33 55 32 60" stroke="#6366f1" stroke-width="2" fill="none" stroke-linecap="round" opacity="0.6"/>
                <path d="M 65 48 Q 67 55 68 60" stroke="#6366f1" stroke-width="2" fill="none" stroke-linecap="round" opacity="0.6"/>
                <!-- Sad mouth -->
                <path d="M 30 70 Q 50 60 70 70" stroke="#8b5cf6" stroke-width="3" fill="none" stroke-linecap="round"/>
            </svg>
            <div style="font-size: 20px; font-weight: 900; color: white; margin-bottom: 10px;">Hesabınız silindi.</div>
            <div style="font-size: 16px; color: #c4b5fd; margin-bottom: 25px;">Sizi kaybettiğimiz için üzgünüz.</div>
            <button class="profile-action-btn" onclick="window.location.reload()">
                ✓ Tamam
            </button>
        </div>
    </div>
    
    <!-- Logout Confirmation Modal -->
    <div class="change-modal" id="logoutModal">
        <div class="profile-backdrop" onclick="closeLogoutModal()"></div>
        <div class="change-modal-content" style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 20px;">🚪</div>
            <div style="font-size: 20px; font-weight: 900; color: white; margin-bottom: 10px;">Logout</div>
            <div style="font-size: 16px; color: #c4b5fd; margin-bottom: 25px;">Are you sure you want to logout?</div>
            <div style="display: flex; gap: 10px;">
                <button class="profile-action-btn" onclick="closeLogoutModal()" style="flex: 1; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.25); color: #00ffff;">
                    Cancel
                </button>
                <button class="profile-action-btn profile-logout-btn" onclick="confirmLogout()" style="flex: 1;">
                    Yes, Logout
                </button>
            </div>
        </div>
    </div>
    
    <!-- Full Page Container -->
    <div class="full-page" id="fullPage">
        <div class="full-page-header">
            <button class="back-btn" onclick="closePage()">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <div class="full-page-title" id="fullPageTitle">Page</div>
        </div>
        <div class="full-page-content" id="fullPageContent">
            <!-- Content will be loaded here -->
        </div>
    </div>

    <script>
        // Auth Management
        let currentUser = null;
        
        function showLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('signupForm').style.display = 'none';
            hideMessages();
        }
        
        function showSignup() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'block';
            hideMessages();
        }
        
        function hideMessages() {
            document.getElementById('errorMsg').style.display = 'none';
            document.getElementById('successMsg').style.display = 'none';
        }
        
        function showError(msg) {
            const el = document.getElementById('errorMsg');
            el.className = 'error-msg';
            el.textContent = msg;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 5000);
        }
        
        function showSuccess(msg) {
            const el = document.getElementById('successMsg');
            el.className = 'success-msg';
            el.textContent = msg;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }
        
        function showToast(message, isError = false, duration = 3000) {
            const toast = document.getElementById('toastNotification');
            toast.textContent = message;
            toast.className = 'toast-notification' + (isError ? ' error' : '');
            
            // Trigger show
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Hide after specified duration
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }
        
        function showExitToast() {
            const toast = document.getElementById('toastNotification');
            toast.textContent = '⬅️ Press back again to exit';
            toast.className = 'toast-notification exit';
            
            // Trigger show
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Hide after 2 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
        
    async function login() {
        // Scroll to top immediately
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Show loading message immediately
        showToast('⏳ Waiting for server response...');
        
    const emailEl = document.getElementById('loginEmail');
    const passEl = document.getElementById('loginPassword');
    const email = (emailEl && typeof emailEl.value === 'string') ? emailEl.value.trim().toLowerCase() : '';
    const password = (passEl && typeof passEl.value === 'string') ? passEl.value.trim() : '';

    if (!email || !password) {
        showError('Please enter email and password');
        return;
    }

        try {
        // Firebase Authentication ile giriş
        const userCredential = await firebase.auth().signInWithEmailAndPassword(email, password);
        const user = userCredential.user;

        // LOGIN SUCCESS -> show loading overlay
        if (typeof showLoginLoading === 'function') showLoginLoading();

        // Backend'den kullanıcı bilgilerini al
        const response = await fetch(API_ENDPOINTS.getAllUserData, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({ userId: user.uid })
        });
        const data = await response.json();

        if (response.ok && data.user) {
window.__resetEmail = email;
            console.log('RESET EMAIL SET:', window.__resetEmail);

            currentUser = data.user;
            localStorage.setItem('userId', user.uid);
            localStorage.setItem('userEmail', user.email);
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('currentUser', JSON.stringify(data.user));
            
            // Get FCM token immediately after login - CRITICAL for notifications!
            console.log('🔔 [LOGIN] Requesting FCM token after successful login...');
            try {
                requestNotificationPermission();
            } catch (err) {
                console.error('❌ [LOGIN] FCM token request failed:', err);
            }
            
            showSuccess('Login successful! ');
            
            setTimeout(() => {
                // After login: show app instead of blank background
                document.getElementById('authScreen').style.display = 'none';
                document.getElementById('app').style.display = 'none';
                
                initApp();
            }, 500);
        }
    } catch (error) {
        console.error('Login error:', error);
        showError('Invalid email or password');
        
        // CRITICAL: Hide loading on error
        if (typeof hideLoginLoading === 'function') hideLoginLoading();
    }
}
        
        function formatBirthDateInput(input) {
            let value = input.value.replace(/\D/g, ''); // Remove non-digits
            let formattedValue = '';
            
            // Day part (DD)
            if (value.length > 0) {
                let day = value.substring(0, 2);
                if (value.length >= 2) {
                    day = Math.min(parseInt(day), 31).toString().padStart(2, '0');
                }
                formattedValue = day;
            }
            
            // Month part (MM)
            if (value.length >= 3) {
                let month = value.substring(2, 4);
                if (value.length >= 4) {
                    month = Math.min(parseInt(month), 12).toString().padStart(2, '0');
                }
                formattedValue += '/' + month;
            }
            
            // Year part (YYYY)
            if (value.length >= 5) {
                formattedValue += '/' + value.substring(4, 8);
            }
            
            input.value = formattedValue;
        }
        
    async function signup() {
        // Scroll to top immediately
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Show loading message immediately
        showToast('⏳ Waiting for server response...');
	
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('signupPasswordConfirm').value;
// Username validation
    const username = document.getElementById('signupUsername').value || email.split('@')[0];
    const fullName = document.getElementById('signupFullName').value;
    const country = document.getElementById('signupCountry').value;
    const birthDate = document.getElementById('signupBirthDate').value;
    
    if (!username || username.length < 3 || username.length > 12) {
        showError('Username must be 3-12 characters');
        return;
    }
    
    if (!/^[a-zA-Z0-9]+$/.test(username)) {
        showError('Username can only contain letters and numbers');
        return;
    }
    if (!email || !password || !confirmPassword) {
        showError('Please fill in all fields');
        return;
    }

    if (password !== confirmPassword) {
        showError('Passwords do not match');
        return;
    }

    if (password.length < 6) {
        showError('Password must be at least 6 characters');
        return;
    }

    try {
        const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);
        const user = userCredential.user;

        const response = await fetch(API_ENDPOINTS.registerUser, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({
                userId: user.uid,
                email: user.email,
                username: username,
                fullName: fullName,
                country: country,
                birthDate: birthDate,
				referralCode: document.getElementById('signupReferral').value || null
            })
        });

        const data = await response.json();
        if (response.ok) {
            localStorage.setItem('userId', user.uid);
            localStorage.setItem('userEmail', user.email);
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('currentUser', JSON.stringify(data.user));
            showSuccess('Account created successfully! ');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
    const modal = document.getElementById('signupModal');
    if (modal) modal.classList.remove('show');
    document.getElementById('authScreen').style.display = 'none';
    document.getElementById('app').style.display = 'block';
        // keep loading until app fully ready
    initApp();
            }, 1500);
        } else {
            // Backend failed - delete Firebase Auth user to prevent orphan accounts
            console.error('Backend registration failed:', data.error);
            await user.delete();
            showError('Registration failed: ' + (data.error || 'Unknown error'));
        }
    } catch (error) {
        console.error('Signup error:', error);
        showError(error.message);
    }
}            
            
        async function googleLogin() {
    try {
        const provider = new firebase.auth.GoogleAuthProvider();
        const result = await firebase.auth().signInWithPopup(provider);
        const user = result.user;
        
        await fetch(API_ENDPOINTS.registerUser, {
            method: 'POST',
            headers: getApiHeaders(),
            body: JSON.stringify({
                userId: user.uid,
                email: user.email,
                username: user.displayName || user.email.split('@')[0]
            })
        });
        
        localStorage.setItem('userId', user.uid);
        localStorage.setItem('userEmail', user.email);
        showSuccess('Login successful!');
        window.location.href = '#mine';
    } catch (error) {
        console.error('Google login error:', error);
        showError('Login failed: ' + error.message);
    }
}
        
        function logout() {
            // Check if menu sidebar is open
            const menuSidebar = document.getElementById('menuSidebar');
            const isMenuOpen = menuSidebar && menuSidebar.classList.contains('open');
            
            // Remember where we came from
            if (isMenuOpen) {
                profileOpenedFrom = 'menu';
            } else if (document.getElementById('fullPage').classList.contains('active')) {
                profileOpenedFrom = 'fullpage';
            } else if (document.getElementById('profileModal').classList.contains('show')) {
                profileOpenedFrom = 'modal';
            }
            
            // Show logout confirmation modal
            document.getElementById('logoutModal').classList.add('show');
        }
        
        function closeLogoutModal() {
            document.getElementById('logoutModal').classList.remove('show');
            
            // Return to where we came from
            if (profileOpenedFrom === 'menu') {
                // If from menu, just close the modal (menu should stay visible)
                // Do nothing, modal closes
            } else if (profileOpenedFrom === 'fullpage') {
                openPage('profile');
            } else {
                document.getElementById('profileModal').classList.add('show');
            }
        }
        
        function confirmLogout() {
            // Clear referrals cache
            cachedReferralsData = null;
            
            // Clear leaderboard cache
            cachedLeaderboardData = null;
            
            // Clear ALL auth data to prevent auto-login
            localStorage.removeItem('currentUser');
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('userId');
            
            window.location.reload();
        }
        
        function copyReferralCode() {
            const code = currentUser.username;
            
            const textarea = document.createElement('textarea');
            textarea.value = code;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy');
                showSuccess('Referral code copied: ' + code);
            } catch (err) {
                showError('Failed to copy code');
            }
            
            document.body.removeChild(textarea);
        }
        
        function checkAuth() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                if (currentUser) {
                    // Don't show app yet, initApp will handle it (and hide splash)
                    document.getElementById('authScreen').style.display = 'none';
                    initApp(); // Load fresh data, will hide splash when done
                    return;
                }
            }
            
             // Hide splash and show login if no user
            const splashScreen = document.getElementById('splashScreen');
            if (splashScreen) {
                splashScreen.classList.add('fade-out');
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                }, 800);
            }
            
            document.getElementById('authScreen').style.display = 'flex';
            document.getElementById('app').style.display = 'none';
        }
        
        let d = {};
        let balanceVisible = true;
        let dailyRewardAvailable = false;
        let hasPendingAirdrops = false;
        let activeMiningSession = null; // Store active session for ad boost check
        let tempPendingLevelUp = null; // Temporary storage for pending level up from backend
        
        // Claiming locks to prevent double-claims
        let isClaimingLevel = false;
        let isClaimingReferral = false;
        let isClaimingDaily = false;
        let isClaimingAirdrop = false;
        let isWatchingAd = false;
        
        // Level system data
        const levelRequirements = {
            1: 0, 2: 5, 3: 10, 4: 15, 5: 20, 6: 30, 7: 40, 8: 50, 9: 60, 10: 75,
            11: 90, 12: 120, 13: 150, 14: 180, 15: 210, 16: 240, 17: 270, 18: 300, 19: 330, 20: 365
        };
        
        const levelRewards = {
            2: {coins: 20, rate: 0.05}, 3: {coins: 30, rate: 0.05}, 4: {coins: 50, rate: 0.05},
            5: {coins: 75, rate: 0.05}, 6: {coins: 100, rate: 0.05}, 7: {coins: 150, rate: 0.05},
            8: {coins: 200, rate: 0.05}, 9: {coins: 300, rate: 0.05}, 10: {coins: 500, rate: 0.05},
            11: {coins: 750, rate: 0.05}, 12: {coins: 1100, rate: 0.05}, 13: {coins: 1500, rate: 0.05},
            14: {coins: 2000, rate: 0.05}, 15: {coins: 2750, rate: 0.05}, 16: {coins: 3500, rate: 0.05},
            17: {coins: 4500, rate: 0.05}, 18: {coins: 6000, rate: 0.05}, 19: {coins: 7500, rate: 0.05},
            20: {coins: 10000, rate: 0.05}
        };
        
        function requestNotificationPermission() {
            // Check if notifications are supported and enabled in settings
            if (!('Notification' in window)) {
                return; // Browser doesn't support notifications
            }
            
            const notificationsEnabled = localStorage.getItem('notificationsEnabled') !== 'false';
            if (!notificationsEnabled) {
                return; // User disabled notifications in settings
            }
            
            // Request permission if not already granted
            if (Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }
        
        function sendMiningCompleteNotification() {
            console.log('🔔 Attempting to send mining complete notification...');
            
            // Check if notifications are enabled and permitted
            const notificationsEnabled = localStorage.getItem('notificationsEnabled') !== 'false';
            
            if (!notificationsEnabled) {
                console.log('⚠️ Notifications disabled by user');
                return;
            }
            
            if (!('Notification' in window)) {
                console.log('⚠️ Browser does not support notifications');
                return;
            }
            
            if (Notification.permission !== 'granted') {
                console.log('⚠️ Notification permission not granted:', Notification.permission);
                return;
            }
            
            try {
                // Create notification
                const notification = new Notification('⛏️ Mining Complete!', {
                    body: 'Your mining session has ended! Please start again!',
                    icon: 'https://i.ibb.co/zVD0p73/logo.png',
                    badge: 'https://i.ibb.co/zVD0p73/logo.png',
                    tag: 'mining-complete',
                    requireInteraction: true, // Notification stays until user interacts
                    silent: false,
                    vibrate: [200, 100, 200]
                });
                
                // Open app when notification is clicked
                notification.onclick = function() {
                    window.focus();
                    notification.close();
                };
                
                console.log('✅ Mining complete notification sent successfully');
            } catch (error) {
                console.error('❌ Error sending notification:', error);
            }
        }
        
        // Send backend push notification for when app is closed
        async function sendBackendPushNotification() {
            const sessionId = localStorage.getItem('currentSessionId_' + currentUser.email);
            if (!sessionId || !currentUser.userId) {
                console.log('⚠️ No session ID or user ID for backend notification');
                return;
            }
            
            try {
                console.log('📤 Sending backend push notification...');
                const response = await fetch(API_ENDPOINTS.sendMiningNotification, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({
                        userId: currentUser.userId,
                        sessionId: sessionId
                    })
                });
                
                if (response.ok) {
                    console.log('✅ Backend push notification sent successfully');
                } else {
                    const error = await response.json().catch(() => ({}));
                    console.log('⚠️ Backend notification failed:', error.error || 'Unknown error');
                }
            } catch (error) {
                console.error('❌ Error sending backend notification:', error);
            }
        }
        async function initApp() {
    requestAnimationFrame(() => {  });
    const appEl = document.getElementById('app');
    if (appEl) appEl.style.display = 'block';
    
    // Declare pendingRewardsData at function scope
    let pendingRewardsData = [];
    
    // localStorage'dan currentUser'ı oku
    const storedUser = localStorage.getItem('currentUser');
    const userId = localStorage.getItem('userId');
    
    if (storedUser) {
        currentUser = JSON.parse(storedUser);
        // Username yoksa email'den oluştur
        if (!currentUser.username && currentUser.email) {
            currentUser.username = currentUser.email.split('@')[0];
        }
    }
    
    // Backend'den TÜM verileri çek - TEK İSTEK (OPTİMİZE EDİLDİ!)
    if (userId) {
        try {
            console.log('🔄 Backend veriler çekiliyor (optimize edilmiş tek istek)...');
            
            // OPTİMİZE: 4 istek yerine TEK istek!
            const response = await fetch(API_ENDPOINTS.getAllUserData, {
                method: 'POST',
                headers: getApiHeaders(),
                body: JSON.stringify({ userId: userId })
            });
            
            console.log('📡 Response status:', response.status);
            console.log('📡 Response ok:', response.ok);
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error('❌ Response not ok:', response.status, errorText);
                throw new Error(`Failed to fetch user data: ${response.status} - ${errorText}`);
            }
            
            const allData = await response.json();
            
            // Process User Data
            currentUser = allData.user;
            activeMiningSession = allData.activeMiningSession || null;
            localStorage.setItem('currentUser', JSON.stringify(allData.user));
            
            // Aktif mining session varsa yükle
            if (allData.activeMiningSession) {
                const session = allData.activeMiningSession;
                const endTime = session.endTime._seconds ? session.endTime._seconds * 1000 : session.endTime;
                const startTime = session.startTime._seconds ? session.startTime._seconds * 1000 : session.startTime;
                localStorage.setItem('miningEndTime_' + currentUser.email, endTime);
                localStorage.setItem('miningStartTime_' + currentUser.email, startTime);
                localStorage.setItem('currentSessionId_' + currentUser.email, session.sessionId);
                
                // Debug: Log ad boost status
                console.log('✅ Active mining session loaded:', {
                    sessionId: session.sessionId,
                    adBoostActive: session.adBoostActive,
                    adBoostCount: session.adBoostCount
                });
            } else {
                console.log('✓ No active mining session');
            }
            
            console.log('✅ User data yüklendi');
            
            // Process Referral Counts (no detailed list - modal will fetch that)
            localStorage.setItem('activeReferralsCount_' + currentUser.email, allData.activeCount || 0);
            localStorage.setItem('totalReferralsCount_' + currentUser.email, allData.totalCount || 0);
            console.log('✅ Referral counts loaded:', {
                active: allData.activeCount || 0,
                total: allData.totalCount || 0
            });
            
            // Process Pending Rewards
            pendingRewardsData = allData.pendingRewards || [];
            
            if (pendingRewardsData.length > 0) {
                console.log(`📦 ${pendingRewardsData.length} pending reward bulundu`);
                
                // Restore flags from pending rewards
                for (const reward of pendingRewardsData) {
                    if (reward.rewardType === 'daily') {
                        dailyRewardAvailable = true;
                        console.log('✅ Daily reward flag set');
                    } else if (reward.rewardType === 'levelUp') {
                        const metadata = reward.metadata || {};
                        const level = metadata.level || (currentUser.level + 1);
                        tempPendingLevelUp = level;
                        console.log(`✅ Level up flag set: Level ${level}`);
                    }
                }
                
                // Calculate total pending referral earnings from pendingRewards
                const referralRewards = pendingRewardsData.filter(r => r.rewardType === 'referral');
                const totalReferralEarnings = referralRewards.reduce((sum, r) => sum + (r.amount || 0), 0);
                if (totalReferralEarnings > 0) {
                    currentUser.pendingReferralEarnings = totalReferralEarnings;
                    console.log(`✅ Referral earnings calculated: ${totalReferralEarnings}`);
                }
            } else {
                console.log('✓ No pending rewards');
            }
            
            console.log('✅ TÜM BACKEND VERİLER YÜKLENDİ (tek istek - optimize!)');
            
        } catch (error) {
            console.error('❌ Backend veri çekme hatası:', error);
            console.error('Error message:', error.message);
            if (error.response) {
                const errorData = await error.response.json().catch(() => ({}));
                console.error('Backend error response:', errorData);
            }
        }
    }
    
            // CRITICAL: Check if currentUser exists before creating d object
            if (!currentUser) {
                console.error('❌ currentUser is undefined! Redirecting to login...');
                document.getElementById('authScreen').style.display = 'flex';
                document.getElementById('app').style.display = 'none';
                return;
            }
    
            d = {
                balance: currentUser.balance || 0,
                level: currentUser.level || 1,
                refs: parseInt(localStorage.getItem('totalReferralsCount_' + currentUser.email)) || 0,
                activeRefs: parseInt(localStorage.getItem('activeReferralsCount_' + currentUser.email)) || 0,
                streak: currentUser.streak || 0,
                lastDate: currentUser.lastDate || null,
                refCode: currentUser.referralCode || currentUser.refCode,
                fullName: currentUser.fullName || '',
                country: currentUser.country || '',
                birthDate: currentUser.birthDate || '',
                mining: false,
                timeLeft: 0,
                miningDays: currentUser.miningDays || 0,
                pendingLevelUp: tempPendingLevelUp || currentUser.pendingLevelUp || null,
                pendingReferralEarnings: currentUser.pendingReferralEarnings || 0
            };
            
            // Calculate active mining referrals
            d.activeRefs = calculateActiveRefs();
            
            // Calculate dynamic rate: base rate + referral bonus + ad boost
            // Base rate includes level bonuses only (permanent)
            const baseRate = currentUser.rate || 0.25;
            const refBonus = d.activeRefs * 0.05;
            
            // Check if current session has ad boost active
            let adBonus = 0;
            if (activeMiningSession && activeMiningSession.adBoostActive) {
                const boostCount = activeMiningSession.adBoostCount || 1;
                adBonus = boostCount * 0.25;  // Cumulative: each ad adds 0.25
                console.log('🚀 Ad boost detected:', {
                    adBoostCount: boostCount,
                    adBonus: adBonus
                });
            }
            
            d.rate = baseRate + refBonus + adBonus;
            
            console.log('💰 Final rate calculated:', {
                baseRate: baseRate,
                refBonus: refBonus,
                adBonus: adBonus,
                totalRate: d.rate
            });
            
            // Check for pending airdrops
            hasPendingAirdrops = (currentUser.pendingAirdrops && currentUser.pendingAirdrops.length > 0) || false;
            
            // Set dailyRewardAvailable - ONLY use pending rewards system
            // Backend's dailyRewardAvailable may be stale, so ignore it
            // If there's a pending daily reward → available = true
            // If no pending daily reward → available = false
            const hasPendingDaily = pendingRewardsData.some(r => r.rewardType === 'daily');
            dailyRewardAvailable = hasPendingDaily;
            
            // Load balance visibility preference
            const savedBalanceVisible = localStorage.getItem('balanceVisible_' + currentUser.email);
            if (savedBalanceVisible !== null) {
                balanceVisible = savedBalanceVisible === 'true';
            }
            
            console.log('🚀 [DEBUG] About to call requestNotificationPermission...');
            
            // Request notification permission
            requestNotificationPermission();
            
            console.log('✅ [DEBUG] requestNotificationPermission called');
            
          document.getElementById('authScreen').style.display = 'none';
           // Hide loading screen
          document.getElementById('app').style.display = 'block';
          
          // Hide splash screen after data is loaded
          const splashScreen = document.getElementById('splashScreen');
          if (splashScreen) {
              splashScreen.classList.add('fade-out');
              setTimeout(() => {
                  splashScreen.style.display = 'none';
              }, 800);
          }
          
        // keep loading until app fully ready  
            checkMining();
            render();
            startTimer();
            
            // CRITICAL: Hide login loading after everything is ready
            if (typeof hideLoginLoading === 'function') {
                setTimeout(() => hideLoginLoading(), 100);
            }
        }
        
        function calculateActiveRefs() {
            // Backend'den gelen active referrals count'u kullan
            return parseInt(localStorage.getItem('activeReferralsCount_' + currentUser.email)) || 0;
        }

        function save() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const userEmail = localStorage.getItem('currentUser');
            
            if (users[userEmail]) {
                users[userEmail].balance = d.balance;
                users[userEmail].rate = (currentUser.rate || 0.25); // Save base rate only (no referral/ad session bonuses)
                users[userEmail].level = d.level;
                users[userEmail].refs = d.refs;
                users[userEmail].streak = d.streak;
                users[userEmail].lastDate = d.lastDate;
                users[userEmail].miningDays = d.miningDays;
                users[userEmail].pendingLevelUp = d.pendingLevelUp;
                users[userEmail].dailyRewardAvailable = dailyRewardAvailable;
                
                localStorage.setItem('users', JSON.stringify(users));
                currentUser = users[userEmail];
                
                // CRITICAL: Also update currentUser in localStorage to prevent balance reset
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
        }
        
        function getLevelProgress() {
            const currentReq = levelRequirements[d.level];
            const nextReq = levelRequirements[d.level + 1];
            
            if (!nextReq) return { progress: 100, current: d.miningDays, required: d.miningDays };
            
            const progress = ((d.miningDays - currentReq) / (nextReq - currentReq)) * 100;
            return {
                progress: Math.min(progress, 100),
                current: d.miningDays,
                required: nextReq
            };
        }
        
        async function checkLevelUp() {
            if (d.level >= 20) return;
            
            const nextReq = levelRequirements[d.level + 1];
            if (d.miningDays >= nextReq && !d.pendingLevelUp) {
                d.pendingLevelUp = d.level + 1;
                save();
                
                // Save pending level up reward
                const levelReward = levelRewards[d.level + 1];
                if (levelReward && currentUser && currentUser.userId) {
                    await addPendingReward('levelUp', levelReward.coins, {
                        level: d.level + 1,
                        miningDays: d.miningDays
                    });
                }
                
                render();
            }
        }
        
        async function claimLevelReward() {
            // Prevent double-claiming
            if (isClaimingLevel) return;
            if (!d.pendingLevelUp) return;
            if (d.pendingLevelUp > 20) return;
            
            const reward = levelRewards[d.pendingLevelUp];
            if (!reward) return;
            
            // Set lock
            isClaimingLevel = true;
            
            // Store old values for rollback
            const oldBalance = d.balance;
            const oldLevel = d.level;
            const oldPendingLevelUp = d.pendingLevelUp;
            
            // ⚡ OPTIMISTIC UI - Update immediately (0ms)
            d.balance += reward.coins;
            const claimedLevel = d.pendingLevelUp;
            d.level = d.pendingLevelUp;
            d.pendingLevelUp = null;
            
            // Calculate new rate
            const baseRate = 0.25;
            const levelBonus = (claimedLevel - 1) * 0.05;
            const newBaseRate = baseRate + levelBonus;
            
            // Update user's base rate
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const userEmail = localStorage.getItem('currentUser');
            if (users[userEmail]) {
                const activeRefs = calculateActiveRefs();
                const totalRate = newBaseRate + (activeRefs * 0.05);
                
                if (totalRate > 5.0) {
                    users[userEmail].rate = Math.min(newBaseRate, 5.0 - (activeRefs * 0.05));
                } else {
                    users[userEmail].rate = newBaseRate;
                }
                
                localStorage.setItem('users', JSON.stringify(users));
                currentUser = users[userEmail];
            }
            
            save();
            
            // Update UI instantly
            render();
            showToast(`✓ Claimed Level ${claimedLevel} reward: +${reward.coins} Coins!`);
            
            // ⚡ PARALLEL backend calls (all at once!)
            (async () => {
                try {
                    // 🔥 BOTH REQUESTS IN PARALLEL - NO WAITING!
                    const [updateResponse, userDataResponse] = await Promise.all([
                        fetch(API_ENDPOINTS.updateLevel, {
                            method: 'POST',
                            headers: getApiHeaders(),
                            body: JSON.stringify({
                                userId: currentUser.userId,
                                newLevel: claimedLevel,
                                coinsReward: reward.coins,
                                newRate: newBaseRate
                            })
                        }),
                        fetch(API_ENDPOINTS.getUserData, {
                            method: 'POST',
                            headers: getApiHeaders(),
                            body: JSON.stringify({ userId: currentUser.userId })
                        })
                    ]);
                    
                    if (!updateResponse.ok) {
                        throw new Error('Backend update failed');
                    }
                    
                    // Backend automatically claims pending reward ✅
                    
                    // Reload app to refresh pending rewards
                    await initApp();
                    
                    if (d.level < 20) {
                        checkLevelUp();
                    }
                    
                    render();
                    
                } catch (err) {
                    console.error('Level reward backend error:', err);
                    // Rollback on error
                    d.balance = oldBalance;
                    d.level = oldLevel;
                    d.pendingLevelUp = oldPendingLevelUp;
                    render();
                    showToast('❌ Failed to claim level reward', true);
                } finally {
                    setTimeout(() => {
                        isClaimingLevel = false;
                    }, 1000);
                }
            })();
        }

        function fmt(s) {
            const h = Math.floor(s / 3600).toString().padStart(2, '0');
            const m = Math.floor((s % 3600) / 60).toString().padStart(2, '0');
            const sec = (s % 60).toString().padStart(2, '0');
            return h + ':' + m + ':' + sec;
        }

        function updateWatchAdButton() {
            const container = document.getElementById('adBoostContainer');
            if (!container) return;
            
            // Don't update if locked (countdown in progress)
            const existingBtn = document.getElementById('watchAdButton');
            if (existingBtn && existingBtn.getAttribute('data-locked') === 'true') {
                return; // Skip update
            }
            
            // Only show if mining
            if (!d || !d.mining) {
                container.innerHTML = '';
                return;
            }
            
            const currentRate = d.rate;
            const adCooldownKey = 'adCooldown_' + currentUser.email;
            const adCooldownEnd = parseInt(localStorage.getItem(adCooldownKey) || '0');
            const now = Date.now();
            const cooldownRemaining = Math.max(0, Math.ceil((adCooldownEnd - now) / 1000));
            const isOnCooldown = cooldownRemaining > 0;
            const isMaxRate = currentRate >= 5.0;
            const isDisabled = isOnCooldown || isMaxRate;
            
            container.innerHTML = `
                <button 
                    id="watchAdButton"
                    data-locked="false"
                    onclick="${isDisabled ? '' : 'watchAdBoost()'}" 
                    style="
                        width: 100%; 
                        height: 45px; 
                        background: ${isMaxRate ? 'rgba(100, 100, 100, 0.3)' : (isOnCooldown ? 'rgba(0, 255, 255, 0.1)' : 'rgba(0, 255, 255, 0.15)')}; 
                        border: 1px solid ${isMaxRate ? 'rgba(150, 150, 150, 0.3)' : (isOnCooldown ? 'rgba(0, 255, 255, 0.3)' : 'rgba(0, 255, 255, 0.4)')}; 
                        border-radius: 12px; 
                        color: ${isDisabled ? 'rgba(255, 255, 255, 0.4)' : '#00ffff'}; 
                        font-size: 13px; 
                        font-weight: 700; 
                        cursor: ${isDisabled ? 'not-allowed' : 'pointer'}; 
                        display: flex; 
                        align-items: center; 
                        justify-content: center; 
                        gap: 8px;
                        opacity: ${isDisabled ? '0.6' : '1'};
                    "
                    ${isDisabled ? 'disabled' : ''}
                >
                    ${isMaxRate ? 
                        '🔒 Max Rate Reached (5.0 MR)' : 
                        (isOnCooldown ? 
                            `⏳ Wait for reward ${cooldownRemaining}s` : 
                            '📺 Watch Ad +0.25 MR'
                        )
                    }
                </button>
            `;
        }

        function render() {
            // Update menu username
            const menuUsername = document.getElementById('menuUsername');
            if (menuUsername) {
			 if (!currentUser) return;
                 menuUsername.textContent = currentUser.username;
            }
            
            // Update referral counts from cache if available
            if (cachedReferralsData) {
                d.activeRefs = cachedReferralsData.activeRefs.length;
                d.refs = cachedReferralsData.activeRefs.length + cachedReferralsData.inactiveRefs.length;
            }
            
            // Update Watch Ad button separately (don't recreate it)
            updateWatchAdButton();
            
            document.getElementById('app').innerHTML = `
                <div class="header">
                    <div class="welcome-card">
                        <span class="welcome-text">Welcome, </span><span class="username-text">${getCountryFlag(currentUser.country || 'Turkey')} ${currentUser.username}!</span>
                    </div>
                    <button class="menu-btn" id="menuButton" onclick="toggleMenu()">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>

                <div class="card balance-card">
                    <p class="balance-label">Total Balance</p>
                    <div class="balance-container">
                        <div class="balance-value">
                            ${balanceVisible ? d.balance.toFixed(2) : '••••••'}
                        </div>
                        <img src="data:image/png;base64,UklGRsYDAABXRUJQVlA4WAoAAAAgAAAAHwAAHwAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDgg2AEAAFAJAJ0BKiAAIAA+USKNRCOiIZgEADgFBLYATplCPT/VXGAuyXlQPhY8mZ1kv5AK+p8/f773Bv1S/0H5XqHCiCr5zOYZk7aQhpWZYE8sENrVCOgAAP7//iIe8Jxr/7/lZ/VpAM3VwZ2rlviX90Lpvfs7/uvZBG58H24lcf/vaFepSuhUvNP7q/Wtv/lxvgu+3Pp4JcCzR5je/EY7X/JnzjsXB5pIwFgZcDBQqtcA4LKWpyx/dlg1n0k2BZjQtlX+P/qPhyX4sclGNo+vvz8d6i38aC7iAakD0RLj/NuIUa6WfvRTK36kfpxKhEtQ23zUISRJ/ISQX81wJa/57PFGdc4oIXUyUO2U+Sg3KYZvemEnXtwYf/wVRIUOi1xDo8BJ/enrjEaaWH1XBND1ZAp34ylNCV0xkpYD+vFpzwbpPfNO5OnKpYgkoRBjg6XGN5rwXz5pqOBfch3kSbBSbpEYMdEIPePiNdUaNDD14xPUTJ3zg1lYduB/+CqzOmhZPDOpRanuaOPppWGmD59+Czce1pO9m6F0CuMXJYqyf3tlZXy/HKi4//kZ1n8RQoQhC4Mf6sz/xgnfT/9uRJccCVOcKCP6FP/5ft8+Ed1sF8ONhswS8jR9fVkAAAA=" class="balance-icon" alt="ArcAstra">
                        <div class="balance-unit">ARCASTRA</div>
                        <button class="balance-toggle" onclick="toggleBalance()">
                            ${balanceVisible ? `
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            ` : `
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                                    <line x1="1" y1="1" x2="23" y2="23"/>
                                </svg>
                            `}
                        </button>
                    </div>
                </div>

                <div class="card ${d.mining ? 'mining-glow' : ''}" id="miningCard">
                    ${!d.mining ? `
                        <button class="btn-mine" onclick="startMine()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                            </svg>
                            Start Mining
                        </button>
                    ` : `
                        <div class="timer-wrap">
                            <div class="timer-circle">
                                <svg viewBox="0 0 150 150">
                                    <circle class="timer-bg" cx="75" cy="75" r="70"/>
                                    <circle class="timer-progress" cx="75" cy="75" r="70" stroke-dasharray="440" 
                                        stroke-dashoffset="${440 - ((86400 - d.timeLeft) / 86400) * 440}"/>
                                </svg>
                                <div class="timer-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2.5">
                                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                                    </svg>
                                </div>
                            </div>
                            <p class="mining-active">⚡ Mining Active</p>
                            <p class="timer-time">${fmt(d.timeLeft)}</p>
                            <p class="timer-label">Time Remaining</p>
                            <div class="earning-box">
                                <p class="earning-text">Earning: <span class="earning-amount">${(() => {
                                    const miningDuration = localStorage.getItem('miningDuration_' + currentUser.email) || 86400000; // Default 24 hours
                                    const hours = parseInt(miningDuration) / (1000 * 60 * 60);
                                    return (d.rate * hours).toFixed(2);
                                })()} <span style="font-size: 14px;">ARCASTRA</span></span></p>
                            </div>
                        </div>
                    `}
                </div>

                <!-- Ad Boost Button Container (updated separately) -->
                <div id="adBoostContainer" style="margin: 12px 0;"></div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-top">
                            <div class="stat-icon icon-blue">
                                <svg viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                            </div>
                            <span class="stat-label">Mining Rate</span>
                        </div>
                        <div class="stat-value">${d.rate.toFixed(2)}</div>
                        <div class="stat-unit">ARCASTRA/hour</div>
                    </div>

                    <div class="stat ${d.pendingLevelUp ? 'reward-available' : ''}">
                        ${d.pendingLevelUp ? `
                            <div style="display: flex; flex-direction: column; text-align: center; padding: 0 8px; min-height: 140px; justify-content: space-between;">
                                <div style="margin-top: 12px;">
                                    <p style="font-size: 12px; font-weight: 700; line-height: 1.3; color: white; margin-bottom: 0;">🎉 Congratulations!<br>You reached Level <span style="color: white;">${d.pendingLevelUp}!</span></p>
                                    <p style="font-size: 11px; font-weight: 600; line-height: 1.3; color: rgba(255, 255, 255, 0.6); margin-top: 6px; margin-bottom: 0;"><span style="color: #fbbf24;">+${levelRewards[d.pendingLevelUp].coins}</span> Coins earned</p>
                                    <p style="font-size: 11px; font-weight: 600; line-height: 1.3; color: rgba(255, 255, 255, 0.6); margin-top: 4px; margin-bottom: 0;"><span style="color: #00ffff;">+${levelRewards[d.pendingLevelUp].rate.toFixed(2)}</span> Mining Rate</p>
                                </div>
                                <button class="reward-claim-btn" onclick="claimLevelReward()" style="margin-top: 8px;">
                                    <span>CLAIM REWARD</span>
                                </button>
                            </div>
                        ` : `
                            <div class="stat-top">
                                <div class="stat-icon icon-purple">
                                    <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                                </div>
                                <span class="stat-label">Level</span>
                            </div>
                            <div class="stat-value">${d.level}</div>
                            <div class="stat-unit">Level</div>
                            ${d.level < 20 ? `
                                <div class="level-progress-bar">
                                    <div class="level-progress-fill" style="width: ${getLevelProgress().progress}%"></div>
                                    <div class="level-progress-text">${getLevelProgress().current}/${getLevelProgress().required} Days</div>
                                </div>
                            ` : '<div class="stat-unit" style="margin-top: 8px; color: #fbbf24;">MAX LEVEL</div>'}
                        `}
                    </div>

                    ${(d.pendingReferralEarnings && d.pendingReferralEarnings > 0) ? `
                        <div class="stat reward-available">
                            <div style="text-align: center; padding: 16px 8px 12px; position: relative; min-height: 140px;">
                                <div style="color: white; font-size: 12px; font-weight: 700; margin-bottom: 6px; line-height: 1.3;">🎉 Congratulations!<br>Referral reward earned!</div>
                                <div style="color: #fbbf24; font-size: 14px; font-weight: 700; margin-bottom: 8px; white-space: nowrap; overflow: visible;">+${d.pendingReferralEarnings} <span style="font-size: 11px; color: rgba(255, 255, 255, 0.6); font-weight: 600;">Coins</span></div>
                                <button onclick="claimReferralEarnings()" style="position: absolute; bottom: 5px; left: 8px; right: 8px; background: linear-gradient(135deg, #10b981, #059669); border: none; border-radius: 8px; padding: 8px; color: white; font-size: 13px; font-weight: 800; cursor: pointer; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);">
                                    CLAIM REWARD
                                </button>
                            </div>
                        </div>
                    ` : `
                        <div class="stat" onclick="event.stopPropagation(); openReferralsDirectly();" style="cursor: pointer;">
                            <div class="stat-top">
                                <div class="stat-icon icon-green">
                                    <svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                </div>
                                <span class="stat-label">Referrals</span>
                            </div>
                            <div class="stat-value">${d.activeRefs}/${d.refs}</div>
                            <div class="stat-unit">Active Mining</div>
                        </div>
                    `}

                    <div class="stat ${dailyRewardAvailable ? 'reward-available' : ''}">
                        <div class="stat-top">
                            <div class="stat-icon icon-orange">
                                <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            </div>
                            <span class="stat-label">Daily Reward</span>
                        </div>
                        <div class="reward-card" style="display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 90px; padding: 15px 10px 10px 10px;">
                            <div style="display: flex; align-items: center; justify-content: center; gap: 7px; margin-top: -21px; margin-bottom: 10px;">
                                <div class="reward-chest ${dailyRewardAvailable ? 'available' : 'locked'}" style="width: 50px; height: 50px;">
                                    <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <!-- Gift Box Base -->
                                        <rect x="20" y="45" width="60" height="40" rx="3" stroke="#00bcd4" stroke-width="3" fill="none"/>
                                        
                                        <!-- Gift Box Lid -->
                                        <path d="M 18 40 L 82 40 L 82 48 L 18 48 Z" stroke="#00bcd4" stroke-width="3" fill="none"/>
                                        
                                        <!-- Vertical Ribbon -->
                                        <line x1="50" y1="40" x2="50" y2="85" stroke="#00ffff" stroke-width="4"/>
                                        
                                        <!-- Horizontal Ribbon -->
                                        <line x1="20" y1="65" x2="80" y2="65" stroke="#00ffff" stroke-width="4"/>
                                        
                                        <!-- Bow Left -->
                                        <path d="M 35 30 Q 30 35 35 40" stroke="#00ffff" stroke-width="3" fill="none"/>
                                        <path d="M 35 30 Q 40 25 45 30" stroke="#00ffff" stroke-width="3" fill="none"/>
                                        
                                        <!-- Bow Right -->
                                        <path d="M 65 30 Q 70 35 65 40" stroke="#00ffff" stroke-width="3" fill="none"/>
                                        <path d="M 65 30 Q 60 25 55 30" stroke="#00ffff" stroke-width="3" fill="none"/>
                                        
                                        <!-- Bow Center -->
                                        <circle cx="50" cy="35" r="5" stroke="#00d4d4" stroke-width="3" fill="none"/>
                                    </svg>
                                </div>
                                ${dailyRewardAvailable ? '<div style="color: #fbbf24; font-size: 16px; font-weight: 700;">+5 <span style="font-size: 12px; color: rgba(255, 255, 255, 0.6); font-weight: 600;">Coins</span></div>' : ''}
                            </div>
                            ${dailyRewardAvailable ? `
                                <button class="reward-claim-btn" onclick="claimDailyReward()">
                                    <span>CLAIM REWARD</span>
                                </button>
                            ` : ''}
                        </div>
                    </div>
                    </div>

                <div class="card">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                        Your Referral Code
                    </div>
                    <div class="ref-compact">
                        <div class="ref-code-text">${currentUser.username}</div>
                        <button class="copy-btn" onclick="copyReferralCode()">
                            <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                            </svg>
                            Copy
                        </button>
                    </div>
                </div>

                <!-- Social Media Links -->
                <div class="card" style="margin-top: 20px; padding: 20px;">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px;">Follow Us</div>
                    </div>
                    <div style="display: flex; justify-content: center; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <!-- Website -->
                        <!-- Website -->
                        <a href="https://arcastranetwork.io" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                            </svg>
                        </a>
                        
                        <!-- Instagram -->
                        <!-- Instagram -->
                        <a href="https://instagram.com/arcastranetwork" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#E1306C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                        </a>
                        
                        <!-- X (Twitter) -->
                        <!-- X (Twitter) -->
                        <a href="https://x.com/arcastranetwork" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#fff">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </a>
                        
                        <!-- Facebook -->
                        <!-- Facebook -->
                        <a href="https://facebook.com/arcastranetwork" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#1877F2">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                        
                        <!-- YouTube -->
                        <!-- YouTube -->
                        <a href="https://youtube.com/@arcastranetwork" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#FF0000">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </a>
                        
                        <!-- Telegram -->
                        <!-- Telegram -->
                        <a href="https://web.telegram.org/k/#@arcastranetwork" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 10px; text-decoration: none; transition: all 0.3s ease;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="#0088cc">
                                <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <button class="logout-btn" onclick="logout()" style="display:none;">Logout</button>

                <div class="footer" style="display:none;">
                    <p class="footer-text">⚠️ This is a demo application. Not real cryptocurrency.</p>
                </div>
            `;
            
            // Update Airdrop menu item and hamburger button based on pending airdrops
            const airdropMenuItem = document.getElementById('airdropMenuItem');
            const menuButton = document.getElementById('menuButton');
            
            if (hasPendingAirdrops) {
                if (airdropMenuItem) airdropMenuItem.classList.add('menu-item-highlight');
                if (menuButton) menuButton.classList.add('menu-btn-highlight');
            } else {
                if (airdropMenuItem) airdropMenuItem.classList.remove('menu-item-highlight');
                if (menuButton) menuButton.classList.remove('menu-btn-highlight');
            }
            
            // MANUAL event listener for referrals card (fix for back button issue)
            setTimeout(() => {
                const referralsCards = document.querySelectorAll('.stat');
                referralsCards.forEach(card => {
                    if (card.textContent.includes('Referrals') && card.textContent.includes('Active Mining')) {
                        if (!card.classList.contains('reward-available')) {
                            card.style.cursor = 'pointer';
                            card.onclick = function() {
                                openPage('referrals');
                            };
                        }
                    }
                });
            }, 50);
            
            // Update Watch Ad button
            updateWatchAdButton();
        }
	
        async function startMine() {
            const now = Date.now();
            const miningDuration = 24 * 60 * 60 * 1000; // 24 hours in ms
            const end = now + miningDuration;
            
            // OPTIMISTIC UI: Update UI IMMEDIATELY (0ms delay)
            d.mining = true;
            d.timeLeft = 24 * 60 * 60;
            
            const today = new Date().toDateString();
            if (d.lastDate) {
                const last = new Date(d.lastDate);
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                if (last.toDateString() === yesterday.toDateString()) {
                    d.streak++;
                } else if (last.toDateString() !== today) {
                    d.streak = 1;
                }
            } else {
                d.streak = 1;
            }
            d.lastDate = today;
            
            localStorage.setItem('miningEndTime_' + currentUser.email, end);
            localStorage.setItem('miningDuration_' + currentUser.email, miningDuration);
            localStorage.setItem('miningStartTime_' + currentUser.email, now);
            
            // Reset ad boost for new session
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[currentUser.email]) {
                const baseRate = 0.25;
                const levelBonus = (users[currentUser.email].level - 1) * 0.05;
                users[currentUser.email].rate = baseRate + levelBonus;
                users[currentUser.email].adBoostAmount = 0;
                localStorage.setItem('users', JSON.stringify(users));
                currentUser = users[currentUser.email];
            }
            
            // Clear ad cooldown
            localStorage.removeItem('adCooldown_' + currentUser.email);
            
            // Clear referrals cache
            cachedReferralsData = null;
            console.log('🔄 Referrals cache cleared - mining started');
            
            save();
            render(); // ⚡ INSTANT UPDATE!
            
            // Backend call in background (user won't wait for this)
            startMiningOnBackend().catch(err => {
                console.error('❌ Backend mining start failed:', err);
                // Rollback if backend fails
                d.mining = false;
                d.timeLeft = 0;
                localStorage.removeItem('miningEndTime_' + currentUser.email);
                localStorage.removeItem('miningStartTime_' + currentUser.email);
                render();
                showToast('❌ Failed to start mining. Please try again.', true);
            });
        }
async function startMiningOnBackend() {
            try {
                const response = await fetch(API_ENDPOINTS.startMining, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({
                        userId: currentUser.userId,
                        level: d.level
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    localStorage.setItem('currentSessionId_' + currentUser.email, data.session.sessionId);
                    console.log('✓ Mining started on backend');
                } else if (response.status === 400) {
                    // Check if it's "Mining already in progress" error
                    const errorData = await response.json().catch(() => ({}));
                    if (errorData.error === 'Mining already in progress' && errorData.session) {
                        // Silently use existing session - user won't notice anything
                        console.log('ℹ️ Using existing active mining session');
                        localStorage.setItem('currentSessionId_' + currentUser.email, errorData.session.sessionId);
                        
                        // Sync endTime with backend
                        const endTimeData = errorData.session.endTime;
                        const endTimeMs = endTimeData._seconds ? endTimeData._seconds * 1000 : endTimeData;
                        localStorage.setItem('miningEndTime_' + currentUser.email, endTimeMs);
                    }
                }
            } catch (error) {
                console.error('Backend error:', error);
            }
        }
        function completeMine() {
            console.log('⛏️ Mining completed - rewards already added by backend!');
            
            d.mining = false;
            d.timeLeft = 0;
            localStorage.removeItem('miningEndTime_' + currentUser.email);
            
            // Clear referrals cache - mining status changed!
            cachedReferralsData = null;
            console.log('🔄 Referrals cache cleared - mining completed');
            
            // Clear session ad boost now that mining ended
            try {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                const userEmail = localStorage.getItem('currentUser');
                if (users[userEmail]) {
                    users[userEmail].adBoostAmount = 0;
                    localStorage.setItem('users', JSON.stringify(users));
                    currentUser = users[userEmail];
                }
            } catch(e) {}

            // Reload user data to get updated balance from backend
            initApp();
        }
        
        async function claimDailyReward() {
            // Prevent double-claiming
            if (isClaimingDaily) return;
            if (!dailyRewardAvailable) return;

            // Set lock
            isClaimingDaily = true;
            
            // ⚡ OPTIMISTIC UI - Update immediately (0ms)
            const rewardAmount = 5;
            const oldBalance = d.balance;
            d.balance += rewardAmount;
            dailyRewardAvailable = false;
            
            // Update UI instantly
            render();
            
            // Show success message immediately
            showToast('✓ Claimed +5 Coins daily reward!');

            // ⚡ PARALLEL backend calls (all at once!)
            (async () => {
                try {
                    // 🔥 ALL REQUESTS IN PARALLEL - NO WAITING!
                    const claimResponse = await fetch(API_ENDPOINTS.claimDailyReward, {
                        method: 'POST',
                        headers: getApiHeaders(),
                        body: JSON.stringify({
                            userId: currentUser.userId
                        })
                    });

                    const data = await claimResponse.json().catch(() => ({}));

                    if (claimResponse.ok && data.reward) {
                        // Use backend's exact balance (no flash!)
                        d.balance = data.newBalance || d.balance;
                        currentUser.balance = d.balance;
                        
                        // Backend automatically claims pending reward ✅
                        
                        save();
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        
                        // Reload app to refresh pending rewards and hide button
                        await initApp();
                        render();
                    } else {
                        // Rollback on error
                        d.balance = oldBalance;
                        dailyRewardAvailable = true;
                        render();
                        
                        const errMsg = (data && data.error) ? data.error : 'Failed to claim daily reward';
                        showToast('❌ ' + errMsg, true);
                    }
                } catch (err) {
                    console.error('Daily reward failed:', err);
                    // Rollback on error
                    d.balance = oldBalance;
                    dailyRewardAvailable = true;
                    render();
                    showToast('❌ Failed to claim daily reward', true);
                } finally {
                    isClaimingDaily = false;
                }
            })();
        }

        function claimBonus() {
            if (d.streak >= 7) {
                const bonus = d.streak * 10;
                d.balance += bonus;
                save();
                showSuccess('🔥 ' + d.streak + ' day streak bonus: +' + bonus + ' Pi!');
                render();
            }
        }
        
        function toggleBalance() {
            balanceVisible = !balanceVisible;
            localStorage.setItem('balanceVisible_' + currentUser.email, balanceVisible);
            
            // ⚡ INSTANT UPDATE - Update balance text
            const balanceElement = document.querySelector('.balance-value');
            if (balanceElement) {
                balanceElement.textContent = balanceVisible 
                    ? d.balance.toFixed(2) 
                    : '••••••'; // Always 6 dots (matches toFixed(2) length better)
            }
            
            // Update eye icon - CORRECT CLASS NAME
            const eyeBtn = document.querySelector('.balance-toggle');
            if (eyeBtn) {
                eyeBtn.innerHTML = balanceVisible 
                    ? '<svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'
                    : '<svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>';
            }
        }
        
        async function watchAdBoost() {
            // Prevent double-clicking
            if (isWatchingAd) return;
            
            const sessionId = localStorage.getItem('currentSessionId_' + currentUser.email);
            
            if (!sessionId) {
                showToast('❌ No active mining session', true);
                return;
            }
            
            // Set watching flag
            isWatchingAd = true;
            
            // Lock the button (prevent initApp from resetting it)
            const btn = document.getElementById('watchAdButton');
            if (btn) btn.setAttribute('data-locked', 'true');
            
            // Set cooldown in localStorage
            const cooldownEnd = Date.now() + 45000; // 45 seconds
            localStorage.setItem('adCooldown_' + currentUser.email, cooldownEnd.toString());
            
            const adStartTime = Date.now();
            
            // Update button countdown
            const updateButton = () => {
                const btn = document.getElementById('watchAdButton');
                if (!btn || btn.getAttribute('data-locked') !== 'true') return;
                
                const now = Date.now();
                const remaining = Math.max(0, Math.ceil((cooldownEnd - now) / 1000));
                
                if (remaining > 0) {
                    btn.disabled = true;
                    btn.style.opacity = '0.6';
                    btn.style.cursor = 'not-allowed';
                    btn.style.background = 'rgba(0, 255, 255, 0.1)';
                    btn.style.border = '1px solid rgba(0, 255, 255, 0.3)';
                    btn.style.color = 'rgba(255, 255, 255, 0.4)';
                    btn.textContent = `⏳ Wait for reward ${remaining}s`;
                }
            };
            
            // Initial update
            updateButton();
            
            // Update every second
            const countdownInterval = setInterval(updateButton, 1000);
            
            // Call backend after 35 seconds (so rate updates by 40th second)
            setTimeout(async () => {
                const watchDuration = Date.now() - adStartTime;
                
                // Call backend to apply boost
                try {
                    const response = await fetch(API_ENDPOINTS.applyAdBoost, {
                        method: 'POST',
                        headers: getApiHeaders(),
                        body: JSON.stringify({ 
                            sessionId: sessionId,
                            watchDuration: watchDuration
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (response.ok) {
                        // Update activeMiningSession with new adBoostCount (instant update)
                        if (activeMiningSession) {
                            activeMiningSession.adBoostCount = data.adBoostCount;
                            activeMiningSession.adBoostActive = true;
                        }
                        
                        // Force immediate rate recalculation
                        const baseRate = currentUser.rate || 0.25;
                        const refBonus = d.activeRefs * 0.05;
                        const adBonus = data.adBoostCount * 0.25;
                        d.rate = baseRate + refBonus + adBonus;
                        
                        // Re-render UI with updated rate (no API call needed)
                        render();
                    } else {
                        showToast(`❌ ${data.error || 'Failed to apply boost'}`, true);
                    }
                } catch (error) {
                    console.error('Apply ad boost error:', error);
                    showToast('❌ Failed to apply boost', true);
                }
            }, 35000); // 35 seconds - backend called (rate updates by 40s)
            
            // Unlock button after 45 seconds
            setTimeout(() => {
                clearInterval(countdownInterval);
                
                // Unlock button
                const btn = document.getElementById('watchAdButton');
                if (btn) btn.setAttribute('data-locked', 'false');
                
                // Release lock
                isWatchingAd = false;
                
                // Re-render to show unlocked button
                updateWatchAdButton();
            }, 45000); // 45 seconds - button unlocked
        }

        function checkMining() {
            const end = localStorage.getItem('miningEndTime_' + currentUser.email);
            if (end) {
                const now = Date.now();
                const endTime = parseInt(end);
                if (now < endTime) {
                    d.mining = true;
                    d.timeLeft = Math.floor((endTime - now) / 1000);
                } else {
                    completeMine();
                }
            }
        }

        let timerStarted = false;
        
        function startTimer() {
            if (timerStarted) return; // Prevent multiple timers
            timerStarted = true;
            
            setInterval(function() {
                if (d.mining && d.timeLeft > 0) {
                    d.timeLeft--;
                    if (d.timeLeft <= 0) {
                        completeMine();
                    }
                    render();
                }
                
                // Update active referrals count every 10 seconds
                if (Date.now() % 10000 < 1000) {
                    d.activeRefs = calculateActiveRefs();
                }
            }, 1000);
        }
        
        function createParticles() {
            // Disabled for performance
        }
        
        function toggleMenu() {
            const sidebar = document.getElementById('menuSidebar');
            const overlay = document.getElementById('menuOverlay');
            const isOpening = !sidebar.classList.contains('open');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('show');
            
            // Prevent background scrolling when menu is open
            if (sidebar.classList.contains('open')) {
                document.body.style.overflow = 'hidden';
                
                // Push state for back button handling
                try {
                    history.pushState({ menu: 'open' }, '', '#menu');
                } catch(e) {
                    // History API not available
                }
            } else {
                document.body.style.overflow = 'auto';
                
                // Remove hash when closing
                try {
                    if (window.location.hash === '#menu') {
                        history.replaceState(null, '', window.location.pathname);
                    }
                } catch(e) {
                    // History API not available
                }
            }
        }
        
        function showProfile() {
            toggleMenu();
            document.getElementById('profileUsername').textContent = currentUser.username;
            document.getElementById('profileHandle').textContent = '@' + currentUser.username;
            
            // Personal information
            document.getElementById('inputFullName').value = d.fullName || '';
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('inputBirthDate').value = d.birthDate || '';
            document.getElementById('inputCountry').value = d.country || '';
            
            // Reset edit mode
            document.getElementById('inputFullName').disabled = true;
            document.getElementById('inputBirthDate').disabled = true;
            document.getElementById('inputCountry').disabled = true;
            document.getElementById('saveInfoBtn').style.display = 'none';
            document.getElementById('editInfoBtn').style.display = 'block';
            
            document.getElementById('profileModal').classList.add('show');
        }
        
        function toggleEditInfo() {
            const inputs = [
                document.getElementById('inputFullName'),
                document.getElementById('inputBirthDate'),
                document.getElementById('inputCountry')
            ];
            
            const isDisabled = inputs[0].disabled;
            
            inputs.forEach(input => input.disabled = !isDisabled);
            
            // Hide error when entering edit mode
            if (isDisabled) {
                document.getElementById('birthDateError').style.display = 'none';
            }
            
            document.getElementById('saveInfoBtn').style.display = isDisabled ? 'block' : 'none';
            document.getElementById('editInfoBtn').style.display = isDisabled ? 'none' : 'block';
        }
        
        function savePersonalInfo() {
            d.fullName = document.getElementById('inputFullName').value;
            d.birthDate = document.getElementById('inputBirthDate').value;
            d.country = document.getElementById('inputCountry').value;
            
            // Validate birth date DD/MM/YYYY
            if (d.birthDate) {
                var parts = d.birthDate.split('/');
                if (parts.length !== 3) {
                    document.getElementById('birthDateError').innerHTML = '⚠️ Please use DD/MM/YYYY format';
                    document.getElementById('birthDateError').style.display = 'block';
                    return;
                }
                var year = parseInt(parts[2]);
                if (year < 1923 || year > 2007) {
                    document.getElementById('birthDateError').innerHTML = '⚠️ Birth year must be between 1923 and 2007';
                    document.getElementById('birthDateError').style.display = 'block';
                    return;
                }
            }
            
            // Hide error if validation passed
            document.getElementById('birthDateError').style.display = 'none';
            
            save();
            
            // Also save to users object
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[currentUser.email]) {
                users[currentUser.email].fullName = d.fullName;
                users[currentUser.email].birthDate = d.birthDate;
                users[currentUser.email].country = d.country;
                localStorage.setItem('users', JSON.stringify(users));
            }
            
            // Disable inputs and hide save button
            document.getElementById('inputFullName').disabled = true;
            document.getElementById('inputBirthDate').disabled = true;
            document.getElementById('inputCountry').disabled = true;
            document.getElementById('saveInfoBtn').style.display = 'none';
            document.getElementById('editInfoBtn').style.display = 'block';
            
            showToast('✓ Personal information saved successfully!');
            renderProfile();
        }
        
        function closeProfile() {
            document.getElementById('profileModal').classList.remove('show');
        }
        
        function uploadAvatar() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = new Image();
                    img.onload = function() {
                        // Resize image to 500x500
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        canvas.width = 500;
                        canvas.height = 500;
                        
                        // Calculate crop dimensions to make it square
                        const size = Math.min(img.width, img.height);
                        const x = (img.width - size) / 2;
                        const y = (img.height - size) / 2;
                        
                        ctx.drawImage(img, x, y, size, size, 0, 0, 500, 500);
                        
                        // Smart compression - try different quality levels
                        let quality = 0.8;
                        let resizedImage = canvas.toDataURL('image/jpeg', quality);
                        let attempts = 0;
                        const maxAttempts = 5;
                        const targetSize = 204800; // 200KB in bytes
                        
                        // Keep reducing quality until under 200KB or max attempts reached
                        while (resizedImage.length * 0.75 > targetSize && attempts < maxAttempts) {
                            quality -= 0.2;
                            if (quality < 0.1) quality = 0.1;
                            resizedImage = canvas.toDataURL('image/jpeg', quality);
                            attempts++;
                        }
                        
                        // Check final size
                        const finalSize = resizedImage.length * 0.75; // Approximate bytes
                        if (finalSize > targetSize) {
                            showToast('⚠️ Image too large', true);
                            return;
                        }
                        
                        // Save to data
                        d.avatarImage = resizedImage;
                        save();
                        
                        // Update display
                        showProfile();
                        showSuccess('✓ Profile photo updated!');
                    };
                    img.src = event.target.result;
                };
                reader.readAsDataURL(file);
            };
            input.click();
        }
        
        let profileOpenedFrom = 'modal'; // Track where profile was opened from
        
        const countries = [
            { name: 'Afghanistan', flag: '🇦🇫' },
            { name: 'Albania', flag: '🇦🇱' },
            { name: 'Algeria', flag: '🇩🇿' },
            { name: 'Argentina', flag: '🇦🇷' },
            { name: 'Australia', flag: '🇦🇺' },
            { name: 'Austria', flag: '🇦🇹' },
            { name: 'Azerbaijan', flag: '🇦🇿' },
            { name: 'Bangladesh', flag: '🇧🇩' },
            { name: 'Belgium', flag: '🇧🇪' },
            { name: 'Brazil', flag: '🇧🇷' },
            { name: 'Bulgaria', flag: '🇧🇬' },
            { name: 'Canada', flag: '🇨🇦' },
            { name: 'Chile', flag: '🇨🇱' },
            { name: 'China', flag: '🇨🇳' },
            { name: 'Colombia', flag: '🇨🇴' },
            { name: 'Croatia', flag: '🇭🇷' },
            { name: 'Czech Republic', flag: '🇨🇿' },
            { name: 'Denmark', flag: '🇩🇰' },
            { name: 'Egypt', flag: '🇪🇬' },
            { name: 'Finland', flag: '🇫🇮' },
            { name: 'France', flag: '🇫🇷' },
            { name: 'Germany', flag: '🇩🇪' },
            { name: 'Greece', flag: '🇬🇷' },
            { name: 'Hungary', flag: '🇭🇺' },
            { name: 'Iceland', flag: '🇮🇸' },
            { name: 'India', flag: '🇮🇳' },
            { name: 'Indonesia', flag: '🇮🇩' },
            { name: 'Iran', flag: '🇮🇷' },
            { name: 'Iraq', flag: '🇮🇶' },
            { name: 'Ireland', flag: '🇮🇪' },
            { name: 'Israel', flag: '🇮🇱' },
            { name: 'Italy', flag: '🇮🇹' },
            { name: 'Japan', flag: '🇯🇵' },
            { name: 'Jordan', flag: '🇯🇴' },
            { name: 'Kazakhstan', flag: '🇰🇿' },
            { name: 'Kenya', flag: '🇰🇪' },
            { name: 'Kuwait', flag: '🇰🇼' },
            { name: 'Lebanon', flag: '🇱🇧' },
            { name: 'Libya', flag: '🇱🇾' },
            { name: 'Malaysia', flag: '🇲🇾' },
            { name: 'Mexico', flag: '🇲🇽' },
            { name: 'Morocco', flag: '🇲🇦' },
            { name: 'Netherlands', flag: '🇳🇱' },
            { name: 'New Zealand', flag: '🇳🇿' },
            { name: 'Nigeria', flag: '🇳🇬' },
            { name: 'Norway', flag: '🇳🇴' },
            { name: 'Pakistan', flag: '🇵🇰' },
            { name: 'Philippines', flag: '🇵🇭' },
            { name: 'Poland', flag: '🇵🇱' },
            { name: 'Portugal', flag: '🇵🇹' },
            { name: 'Qatar', flag: '🇶🇦' },
            { name: 'Romania', flag: '🇷🇴' },
            { name: 'Russia', flag: '🇷🇺' },
            { name: 'Saudi Arabia', flag: '🇸🇦' },
            { name: 'Serbia', flag: '🇷🇸' },
            { name: 'Singapore', flag: '🇸🇬' },
            { name: 'South Africa', flag: '🇿🇦' },
            { name: 'South Korea', flag: '🇰🇷' },
            { name: 'Spain', flag: '🇪🇸' },
            { name: 'Sweden', flag: '🇸🇪' },
            { name: 'Switzerland', flag: '🇨🇭' },
            { name: 'Syria', flag: '🇸🇾' },
            { name: 'Taiwan', flag: '🇹🇼' },
            { name: 'Thailand', flag: '🇹🇭' },
            { name: 'Tunisia', flag: '🇹🇳' },
            { name: 'Turkey', flag: '🇹🇷' },
            { name: 'Ukraine', flag: '🇺🇦' },
            { name: 'United Arab Emirates', flag: '🇦🇪' },
            { name: 'United Kingdom', flag: '🇬🇧' },
            { name: 'United States', flag: '🇺🇸' },
            { name: 'Uzbekistan', flag: '🇺🇿' },
            { name: 'Venezuela', flag: '🇻🇪' },
            { name: 'Vietnam', flag: '🇻🇳' }
        ];
        
        function getCountryFlag(countryName) {
            const country = countries.find(c => c.name === countryName);
            return country ? country.flag : '🌍';
        }
        
        function showCountryDropdown(inputId, dropdownId) {
            const input = document.getElementById(inputId);
            const dropdown = document.getElementById(dropdownId);
            
            if (input.disabled) return;
            
            // Populate dropdown
            dropdown.innerHTML = countries.map(country => 
                `<div class="country-option" onclick="selectCountry('${country.name}', '${inputId}', '${dropdownId}')">${country.flag} ${country.name}</div>`
            ).join('');
            
            dropdown.classList.add('show');
        }
        
        function filterCountries(inputId, dropdownId) {
            const input = document.getElementById(inputId);
            const dropdown = document.getElementById(dropdownId);
            const filter = input.value.toLowerCase();
            
            if (!filter) {
                showCountryDropdown(inputId, dropdownId);
                return;
            }
            
            const filtered = countries.filter(country => 
                country.name.toLowerCase().includes(filter)
            );
            
            if (filtered.length > 0) {
                dropdown.innerHTML = filtered.map(country => 
                    `<div class="country-option" onclick="selectCountry('${country.name}', '${inputId}', '${dropdownId}')">${country.flag} ${country.name}</div>`
                ).join('');
                dropdown.classList.add('show');
            } else {
                dropdown.classList.remove('show');
            }
        }
        
        function selectCountry(country, inputId, dropdownId) {
            const input = document.getElementById(inputId);
            input.value = country;
            input.dataset.validCountry = 'true';
            document.getElementById(dropdownId).classList.remove('show');
        }
        
        function validateCountryInput(inputId) {
            const input = document.getElementById(inputId);
            const inputValue = input.value.trim();
            
            // Check if the entered value is in the countries list
            const isValid = countries.some(country => 
                country.name.toLowerCase() === inputValue.toLowerCase()
            );
            
            if (!isValid && inputValue !== '') {
                input.value = '';
                input.dataset.validCountry = 'false';
                return false;
            }
            
            input.dataset.validCountry = isValid ? 'true' : 'false';
            return isValid;
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.country-dropdown')) {
                document.querySelectorAll('.country-dropdown-list').forEach(dropdown => {
                    dropdown.classList.remove('show');
                });
            }
        });
        
        function showChangeEmail() {
            // Remember where we came from
            if (document.getElementById('fullPage').classList.contains('active')) {
                profileOpenedFrom = 'fullpage';
            } else {
                profileOpenedFrom = 'modal';
            }
            document.getElementById('changeEmailModal').classList.add('show');
            
            // Push state for back button
            try {
                history.pushState({ modal: 'changeEmail' }, '', '#change-email');
            } catch(e) {}
        }
        
        function closeChangeEmail() {
            document.getElementById('changeEmailModal').classList.remove('show');
            document.getElementById('newEmail').value = '';
            document.getElementById('emailPassword').value = '';
            
            // Return to where we came from
            if (profileOpenedFrom === 'fullpage') {
                openPage('profile');
            } else {
                document.getElementById('profileModal').classList.add('show');
            }
        }
        
        function changeEmail() {
            const newEmail = document.getElementById('newEmail').value;
            const password = document.getElementById('emailPassword').value;
            
            if (!newEmail || !password) {
                showToast('❌ Fill all fields', true);
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[currentUser.email].password !== password) {
                showToast('❌ Wrong password', true);
                return;
            }
            
            if (users[newEmail]) {
                showToast('❌ Email exists', true);
                return;
            }
            
            users[newEmail] = users[currentUser.email];
            users[newEmail].email = newEmail;
            delete users[currentUser.email];
            
            localStorage.setItem('users', JSON.stringify(users));
            currentUser.email = newEmail;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            closeChangeEmail();
            showToast('✓ Email changed successfully!');
        }
        
        function showChangePassword() {
            // Remember where we came from
            if (document.getElementById('fullPage').classList.contains('active')) {
                profileOpenedFrom = 'fullpage';
            } else {
                profileOpenedFrom = 'modal';
            }
            document.getElementById('changePasswordModal').classList.add('show');
            
            // Push state for back button
            try {
                history.pushState({ modal: 'changePassword' }, '', '#change-password');
            } catch(e) {}
        }
        
        function closeChangePassword() {
            document.getElementById('changePasswordModal').classList.remove('show');
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            
            // Return to where we came from
            if (profileOpenedFrom === 'fullpage') {
                openPage('profile');
            } else {
                document.getElementById('profileModal').classList.add('show');
            }
        }
        
        async function changePassword() {
            const currentPwd = document.getElementById('currentPassword').value;
            const newPwd = document.getElementById('newPassword').value;
            const confirmPwd = document.getElementById('confirmPassword').value;
            
            if (!currentPwd || !newPwd || !confirmPwd) {
                showToast('❌ Fill all fields', true);
                return;
            }
            
            if (newPwd !== confirmPwd) {
                showToast('❌ Passwords don\'t match', true);
                return;
            }
            
            if (newPwd.length < 6) {
                showToast('❌ Password min 6 chars', true);
                return;
            }
            
            try {
                const response = await fetch(API_ENDPOINTS.updatePassword, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({
                        userId: currentUser.userId,
                        newPassword: newPwd
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    closeChangePassword();
                    showToast('✓ Password changed!');
                } else {
                    showToast(`❌ ${data.error || 'Failed'}`, true);
                }
            } catch (error) {
                console.error('Change password error:', error);
                showToast('❌ Failed to change password', true);
            }
        }

        
        function shareProfile() {
            const shareText = `Arc Astra is a community-driven digital ecosystem where individual users can participate through mining. By joining the ecosystem with my referral code, you can earn 10 ARC ASTRA and start mining as part of this growing network.\n\nDetails: arcastranetwork.io\nMy Referral Code: ${currentUser.referralCode}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Join Arc Astra',
                    text: shareText
                }).catch(() => {
                    copyToClipboard(shareText);
                });
            } else {
                copyToClipboard(shareText);
            }
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('✓ Profile info copied to clipboard!');
            }).catch(() => {
                showToast('✓ Share: ' + text);
            });
        }
        
        function copyProfileLink() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                showToast('✓ Profile link copied!');
            });
        }
        
        function showDeleteAccount() {
            // Remember where we came from
            if (document.getElementById('fullPage').classList.contains('active')) {
                profileOpenedFrom = 'fullpage';
            } else {
                profileOpenedFrom = 'modal';
            }
            document.getElementById('deleteError').style.display = 'none';
            document.getElementById('deleteAccountModal').classList.add('show');
            
            // Push state for back button
            try {
                history.pushState({ modal: 'deleteAccount' }, '', '#delete-account');
            } catch(e) {}
        }
        
        function closeDeleteAccount() {
            document.getElementById('deleteAccountModal').classList.remove('show');
            document.getElementById('deletePassword').value = '';
            document.getElementById('deleteError').style.display = 'none';
            
            // Return to where we came from
            if (profileOpenedFrom === 'fullpage') {
                openPage('profile');
            } else {
                document.getElementById('profileModal').classList.add('show');
            }
        }
        
        function showDeleteError(message) {
            document.getElementById('deleteErrorText').textContent = message;
            document.getElementById('deleteError').style.display = 'block';
        }
        
        function confirmDeleteAccount() {
            const password = document.getElementById('deletePassword').value;
            
            if (!password) {
                showDeleteError('Please enter your password');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[currentUser.email].password !== password) {
                showDeleteError('Incorrect password');
                return;
            }
            
            // Password correct - delete account
            deleteAccount();
        }
        
        async function deleteAccount() {
            try {
                const response = await fetch(API_ENDPOINTS.deleteAccount, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({
                        userId: currentUser.userId
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // Clear local data
                    localStorage.removeItem('currentUser');
                    localStorage.removeItem('currentSessionId_' + currentUser.email);
                    
                    // Close delete modal
                    document.getElementById('deleteAccountModal').classList.remove('show');
                    
                    // Show goodbye modal
                    document.getElementById('goodbyeModal').classList.add('show');
                } else {
                    showToast(`❌ ${data.error || 'Failed to delete account'}`, true);
                }
            } catch (error) {
                console.error('Delete account error:', error);
                showToast('❌ Failed to delete account', true);
            }
        }

        
        function viewRoadmap() {
            window.open('https://arcastranetwork.io/', '_blank');
        }
        
        function viewWhitepaper() {
            window.open('https://arcastranetwork.io/', '_blank');
        }
        
        function openPage(page) {
            // Push state FIRST for immediate back button response
            try {
                history.pushState({ page: page }, '', '#' + page);
            } catch(e) {
                // History API not available or restricted - use hash fallback
                window.location.hash = page;
            }
            
            toggleMenu();
            
            const fullPage = document.getElementById('fullPage');
            const pageTitle = document.getElementById('fullPageTitle');
            const pageContent = document.getElementById('fullPageContent');
            
            switch(page) {
                case 'profile':
                    pageTitle.textContent = 'Profile';
                    pageContent.innerHTML = getProfilePageContent();
                    break;
                case 'announcements':
                    pageTitle.textContent = 'Announcements';
                    pageContent.innerHTML = getAnnouncementsPageContent();
                    break;
                case 'airdrop':
                    pageTitle.textContent = 'Airdrop';
                    pageContent.innerHTML = getAirdropPageContent();
                    break;
                case 'leaderboard':
                    pageTitle.textContent = 'Leaderboard';
                    // Show loading skeleton immediately
                    pageContent.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; min-height: 400px; padding: 20px;">
                            <div style="background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(0, 255, 255, 0.4); border-radius: 20px; padding: 40px 30px; max-width: 340px; width: 100%; text-align: center; box-shadow: 0 8px 32px rgba(0, 255, 255, 0.2);">
                                <div style="width: 60px; height: 60px; border: 3px solid rgba(0, 255, 255, 0.3); border-top-color: #00ffff; border-radius: 50%; margin: 0 auto 20px; animation: spin 1s linear infinite;"></div>
                                <h3 style="color: #00ffff; font-size: 18px; font-weight: 700; margin-bottom: 8px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Loading Leaderboard</h3>
                                <p style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin: 0;"></p>
                            </div>
                        </div>
                        <style>
                            @keyframes spin {
                                to { transform: rotate(360deg); }
                            }
                        
        .days-badge {
            min-width: 9ch;
            max-width: 9ch;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
            font-weight: 700;
            line-height: 1;
        }
        
/* === PRO LOADING SCREEN === */
#loadingScreen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;

}

.loading-card {
    background: rgba(10,20,40,0.85);
    border-radius: 24px;
    padding: 40px 32px;
    border: 2px solid transparent;
    background:
      linear-gradient(rgba(10,20,40,0.85), rgba(10,20,40,0.85)) padding-box,
      linear-gradient(145deg, rgba(0,255,255,0.4), rgba(123,67,255,0.4)) border-box;
    box-shadow: 0 0 40px rgba(0,255,255,0.25);
    text-align: center;
}

.loading-spinner {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 4px solid rgba(0,255,255,0.15);
    border-top-color: #00ffff;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

.loading-text {
    color: #c4b5fd;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

</style>
        
                    `;
                    // Load content asynchronously
                    getLeaderboardPageContent().then(html => pageContent.innerHTML = html);
                    break;
                case 'referrals':
                    pageTitle.textContent = 'My Referrals';
                    // Show loading skeleton immediately
                    pageContent.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; min-height: 400px; padding: 20px;">
                            <div style="background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(0, 255, 255, 0.4); border-radius: 20px; padding: 40px 30px; max-width: 340px; width: 100%; text-align: center; box-shadow: 0 8px 32px rgba(0, 255, 255, 0.2);">
                                <div style="width: 60px; height: 60px; border: 3px solid rgba(0, 255, 255, 0.3); border-top-color: #00ffff; border-radius: 50%; margin: 0 auto 20px; animation: spin 1s linear infinite;"></div>
                                <h3 style="color: #00ffff; font-size: 18px; font-weight: 700; margin-bottom: 8px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Loading Referrals</h3>
                                <p style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin: 0;"></p>
                            </div>
                        </div>
                        <style>
                            @keyframes spin {
                                to { transform: rotate(360deg); }
                            }
                        
        .days-badge {
            min-width: 9ch;
            max-width: 9ch;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
            font-weight: 700;
            line-height: 1;
        }
        
/* === PRO LOADING SCREEN === */
#loadingScreen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

.loading-card {
    background: rgba(10,20,40,0.85);
    border-radius: 24px;
    padding: 40px 32px;
    border: 2px solid transparent;
    background:
      linear-gradient(rgba(10,20,40,0.85), rgba(10,20,40,0.85)) padding-box,
      linear-gradient(145deg, rgba(0,255,255,0.4), rgba(123,67,255,0.4)) border-box;
    box-shadow: 0 0 40px rgba(0,255,255,0.25);
    text-align: center;
}

.loading-spinner {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 4px solid rgba(0,255,255,0.15);
    border-top-color: #00ffff;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

.loading-text {
    color: #c4b5fd;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

</style>
        
                    `;
                    // Load content asynchronously
                    getReferralsPageContent().then(html => pageContent.innerHTML = html);
                    break;
                case 'menu2':
                    pageTitle.textContent = 'Menü 2';
                    pageContent.innerHTML = '<div class="card"><h2 style="color: white; text-align: center;">Menü 2 İçeriği</h2><p style="color: #c4b5fd; text-align: center; margin-top: 10px;">Bu sayfa için içerik yakında eklenecek.</p></div>';
                    break;
                case 'menu3':
                    pageTitle.textContent = 'Menü 3';
                    pageContent.innerHTML = '<div class="card"><h2 style="color: white; text-align: center;">Menü 3 İçeriği</h2><p style="color: #c4b5fd; text-align: center; margin-top: 10px;">Bu sayfa için içerik yakında eklenecek.</p></div>';
                    break;
                case 'menu4':
                    pageTitle.textContent = 'Menü 4';
                    pageContent.innerHTML = '<div class="card"><h2 style="color: white; text-align: center;">Menü 4 İçeriği</h2><p style="color: #c4b5fd; text-align: center; margin-top: 10px;">Bu sayfa için içerik yakında eklenecek.</p></div>';
                    break;
                case 'settings':
                    pageTitle.textContent = 'Settings';
                    pageContent.innerHTML = getSettingsPageContent();
                    break;
                case 'menu5':
                    pageTitle.textContent = 'Menü 5';
                    pageContent.innerHTML = '<div class="card"><h2 style="color: white; text-align: center;">Menü 5 İçeriği</h2><p style="color: #c4b5fd; text-align: center; margin-top: 10px;">Bu sayfa için içerik yakında eklenecek.</p></div>';
                    break;
                case 'menu6':
                    pageTitle.textContent = 'Menü 6';
                    pageContent.innerHTML = '<div class="card"><h2 style="color: white; text-align: center;">Menü 6 İçeriği</h2><p style="color: #c4b5fd; text-align: center; margin-top: 10px;">Bu sayfa için içerik yakında eklenecek.</p></div>';
                    break;
            }
            
            fullPage.classList.add('active');
            fullPage.dataset.currentPage = page;
        }
        
        function closePage() {
            const fullPage = document.getElementById('fullPage');
            const sidebar = document.getElementById('menuSidebar');
            const menuOverlay = document.getElementById('menuOverlay');
            
            // Close full page
            fullPage.classList.remove('active');
            fullPage.dataset.currentPage = '';
            
            // Close menu if open
            if (sidebar) sidebar.classList.remove('open');
            if (menuOverlay) menuOverlay.classList.remove('show');
            document.body.style.overflow = 'auto';
            
            // Replace state to remove hash (with error handling)
            try {
                if (window.location.hash) {
                    history.replaceState({ page: 'main' }, '', window.location.pathname);
                }
            } catch(e) {
                // History API not available or restricted
            }
        }
        
        function formatDate(dateString) {
            if (!dateString) return 'Not set';
            // If already in DD/MM/YYYY format, return as is
            if (dateString.includes('/')) {
                return dateString;
            }
            // If in YYYY-MM-DD format (old data), convert to DD/MM/YYYY
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}/${month}/${year}`;
        }
        
        function getSettingsPageContent() {
            // Get current settings from localStorage
            const notificationsEnabled = localStorage.getItem('notificationsEnabled') !== 'false';
            const soundEnabled = localStorage.getItem('soundEnabled') !== 'false';
            const autoMiningEnabled = localStorage.getItem('autoMiningEnabled') === 'true';
            const language = localStorage.getItem('language') || 'en';
            const theme = localStorage.getItem('theme') || 'dark';
            
            return `
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    
                    <!-- General Settings -->
                    <div>
                        <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">General</div>
                        
                        <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: white; font-weight: 700; font-size: 15px; margin-bottom: 4px;">Language</div>
                                    <div style="color: #8b5cf6; font-size: 13px;">Application language</div>
                                </div>
                                <div style="background: rgba(0, 0, 0, 0.5); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 8px; padding: 8px 12px; color: white; font-weight: 600;">
                                    English
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Notifications -->
                    <div>
                        <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">Notifications</div>
                        
                        <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: white; font-weight: 700; font-size: 15px; margin-bottom: 4px;">Push Notifications</div>
                                    <div style="color: #8b5cf6; font-size: 13px;">Get notified about important updates</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="notificationsToggle" ${notificationsEnabled ? 'checked' : ''} onchange="toggleNotifications(this.checked)">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- About -->
                    <div>
                        <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">About</div>
                        
                        <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; text-align: center;">
                            <div style="color: white; font-weight: 800; font-size: 18px; margin-bottom: 8px;">Arc Astra</div>
                            <div style="color: #8b5cf6; font-size: 13px; margin-bottom: 4px;">Version 1.0.0</div>
                            <div style="color: #666; font-size: 12px;">© 2024 Arc Astra. All rights reserved.</div>
                        </div>
                    </div>
                    
                </div>
            `;
        }
        
        
        
        function toggleNotifications(enabled) {
            localStorage.setItem('notificationsEnabled', enabled);
            showToast(enabled ? '🔔 Notifications enabled' : '🔕 Notifications disabled');
        }
        
        function getAnnouncementsPageContent() {
            // TODO: Replace this with server API call
            // Example: fetch('/api/announcements').then(res => res.json()).then(data => ...)
            
            const announcements = [
                // Mock data - replace with server data
                // {
                //     id: 1,
                //     title: "Welcome to Arc Astra",
                //     date: "2024-12-10",
                //     content: "We are excited to launch Arc Astra!",
                //     priority: "high" // high, medium, low
                // }
            ];
            
            if (announcements.length === 0) {
                return `
                    <div style="text-align: center; padding: 60px 20px;">
                        <div style="font-size: 64px; margin-bottom: 20px;">📢</div>
                        <h2 style="color: white; font-size: 24px; font-weight: 800; margin-bottom: 12px;">No Announcements Yet</h2>
                        <p style="color: #8b5cf6; font-size: 15px; line-height: 1.6;">Stay tuned for important updates and news from Arc Astra.</p>
                    </div>
                `;
            }
            
            // Render announcements
            let html = '<div style="display: flex; flex-direction: column; gap: 16px;">';
            
            announcements.forEach(announcement => {
                const priorityColor = announcement.priority === 'high' ? '#ef4444' : 
                                     announcement.priority === 'medium' ? '#f59e0b' : '#3b82f6';
                const priorityBadge = announcement.priority === 'high' ? '🔴 Important' : 
                                     announcement.priority === 'medium' ? '🟡 Notice' : '🔵 Info';
                
                html += `
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                            <h3 style="color: white; font-size: 18px; font-weight: 800; margin: 0; flex: 1;">${announcement.title}</h3>
                            <span style="background: ${priorityColor}20; color: ${priorityColor}; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 700; white-space: nowrap; margin-left: 12px;">${priorityBadge}</span>
                        </div>
                        <div style="color: #8b5cf6; font-size: 13px; margin-bottom: 12px; font-weight: 600;">
                            📅 ${formatAnnouncementDate(announcement.date)}
                        </div>
                        <div style="color: #c4b5fd; font-size: 15px; line-height: 1.6;">
                            ${announcement.content}
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            return html;
        }
        
        function formatAnnouncementDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        
        function getAirdropPageContent() {
            // Get pending airdrops from localStorage
            const userEmail = localStorage.getItem('currentUser');
            let users = JSON.parse(localStorage.getItem('users')) || {};
            const pendingAirdrops = users[userEmail]?.pendingAirdrops || [];
            
            if (pendingAirdrops.length === 0) {
                return `
                    <div style="display: flex; align-items: center; justify-content: center; min-height: 400px; padding: 20px;">
                        <div style="background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(100, 100, 100, 0.4); border-radius: 20px; padding: 40px 30px; max-width: 340px; width: 100%; text-align: center; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);">
                            <!-- Icon -->
                            <div style="background: rgba(100, 100, 100, 0.2); border: 2px solid rgba(100, 100, 100, 0.3); border-radius: 16px; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 40px;">
                                📦
                            </div>
                            
                            <!-- Title -->
                            <h2 style="color: rgba(255, 255, 255, 0.6); font-size: 22px; font-weight: 900; margin-bottom: 12px; letter-spacing: 0.5px;">
                                No Airdrops
                            </h2>
                            
                            <!-- Description -->
                            <p style="color: rgba(139, 92, 246, 0.7); font-size: 14px; line-height: 1.6; margin-bottom: 20px;">
                                Airdrops will appear here when available for you to claim
                            </p>
                            
                            <!-- Info box -->
                            <div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 10px; padding: 12px; font-size: 13px; color: rgba(255, 255, 255, 0.5); line-height: 1.5;">
                                💡 Check back regularly for new airdrop rewards
                            </div>
                        </div>
                    </div>
                `;
            }
            
            let html = '<div style="display: flex; flex-direction: column; gap: 16px; padding: 10px 0;">';
            
            pendingAirdrops.forEach((airdrop, index) => {
                const date = new Date(airdrop.date).toLocaleDateString('en-US', { 
                    month: 'short', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
                
                html += `
                    <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15)); border: 2px solid #10b981; border-radius: 16px; padding: 20px; box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); position: relative; overflow: hidden;">
                        
                        <!-- Decorative elements -->
                        <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: radial-gradient(circle, rgba(16, 185, 129, 0.2), transparent); border-radius: 50%;"></div>
                        <div style="position: absolute; bottom: -30px; left: -30px; width: 120px; height: 120px; background: radial-gradient(circle, rgba(5, 150, 105, 0.15), transparent); border-radius: 50%;"></div>
                        
                        <!-- Content -->
                        <div style="position: relative; z-index: 1;">
                            <!-- Icon and Badge -->
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                <div style="background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 12px; width: 56px; height: 56px; display: flex; align-items: center; justify-content: center; font-size: 28px;">
                                    🎁
                                </div>
                                <div style="background: #10b981; color: white; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 800; letter-spacing: 0.5px;">
                                    AVAILABLE
                                </div>
                            </div>
                            
                            <!-- Title and Date -->
                            <div style="margin-bottom: 12px;">
                                <div style="color: white; font-size: 20px; font-weight: 900; margin-bottom: 6px;">
                                    ${airdrop.title || 'Airdrop Reward'}
                                </div>
                                <div style="color: #10b981; font-size: 13px; font-weight: 600;">
                                    📅 ${date}
                                </div>
                            </div>
                            
                            <!-- Description -->
                            ${airdrop.description ? `
                                <div style="color: rgba(255, 255, 255, 0.8); font-size: 14px; line-height: 1.6; margin-bottom: 16px; background: rgba(0, 0, 0, 0.2); padding: 12px; border-radius: 8px; border-left: 3px solid #10b981;">
                                    ${airdrop.description}
                                </div>
                            ` : ''}
                            
                            <!-- Amount Box -->
                            <div style="background: rgba(0, 0, 0, 0.4); border: 2px solid #10b981; border-radius: 12px; padding: 16px; margin-bottom: 16px; text-align: center;">
                                <div style="color: #10b981; font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">
                                    Airdrop Amount
                                </div>
                                <div style="color: #00ffff; font-size: 32px; font-weight: 900; text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);">
                                    ${airdrop.amount.toFixed(3)}
                                </div>
                                <div style="color: rgba(255, 255, 255, 0.6); font-size: 14px; font-weight: 700; margin-top: 4px;">
                                    ARC ASTRA
                                </div>
                            </div>
                            
                            <!-- Claim Button -->
                            <button onclick="claimAirdrop(${index})" style="width: 100%; background: linear-gradient(135deg, #10b981, #059669); border: none; border-radius: 12px; padding: 16px; color: white; font-size: 17px; font-weight: 900; cursor: pointer; box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4); transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px;">
                                🎉 CLAIM NOW
                            </button>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            return html;
        }
        
        function claimAirdrop(index) {
            // Prevent double-claiming
            if (isClaimingAirdrop) return;
            
            const userEmail = localStorage.getItem('currentUser');
            let users = JSON.parse(localStorage.getItem('users')) || {};
            
            if (!users[userEmail] || !users[userEmail].pendingAirdrops || !users[userEmail].pendingAirdrops[index]) {
                showToast('❌ Airdrop not found', true);
                return;
            }
            
            // Set lock
            isClaimingAirdrop = true;
            
            try {
                const airdrop = users[userEmail].pendingAirdrops[index];
                
                // Add to balance
                users[userEmail].balance = (users[userEmail].balance || 0) + airdrop.amount;
                
                // Ensure user's rate doesn't exceed 5.0 (safety check)
                const activeRefs = calculateActiveRefs();
                const currentTotalRate = (users[userEmail].rate || 0.25) + (activeRefs * 0.05);
                if (currentTotalRate > 5.0) {
                    users[userEmail].rate = Math.max(0.25, 5.0 - (activeRefs * 0.05));
                }
                
                // Remove from pending airdrops
                users[userEmail].pendingAirdrops.splice(index, 1);
                
                // Save to localStorage
                localStorage.setItem('users', JSON.stringify(users));
                
                // Update current user
                currentUser = users[userEmail];
                
                // Update hasPendingAirdrops
                hasPendingAirdrops = (currentUser.pendingAirdrops && currentUser.pendingAirdrops.length > 0) || false;
                
                // Show success message
                showToast(`✓ Claimed ${airdrop.amount} Coins!`);
                
                // Refresh page content
                openPage('airdrop');
                
                // Update main screen to refresh green indicators
                render();
            } finally {
                // Release lock after delay
                setTimeout(() => {
                    isClaimingAirdrop = false;
                }, 1000);
            }
        }
        
        // Cache for leaderboard - only fetch once per app session
        let cachedLeaderboardData = null;
        
        async function getLeaderboardPageContent() {
            let leaderboardData = [];
            
            try {
                // Use cache if available
                if (cachedLeaderboardData) {
                    console.log('✅ Using cached leaderboard data');
                    leaderboardData = cachedLeaderboardData;
                } else {
                    console.log('🔄 Fetching leaderboard from backend...');
                    
                    // Fetch from backend
                    const response = await fetch(API_ENDPOINTS.getLeaderboard);
                    const data = await response.json();
                    
                    if (response.ok && data.leaderboard) {
                        leaderboardData = data.leaderboard;

                        // SORT: only by miningDays (higher first)
                        leaderboardData.sort((a, b) => {
                            return (b.miningDays || 0) - (a.miningDays || 0);
                        });
                        
                        // Cache the results
                        cachedLeaderboardData = leaderboardData;
                        console.log('✅ Leaderboard cached:', leaderboardData.length, 'users');
                    }
                }
            } catch (err) {
                console.error('Failed to fetch leaderboard:', err);
            }
            
            // Find current user's rank
            const currentEmail = currentUser ? currentUser.email : '';
            console.log('🔍 Finding user in leaderboard:', currentEmail);
            console.log('📊 Leaderboard data:', leaderboardData.length, 'users');
            
            const currentUserRank = leaderboardData.findIndex(u => u.email === currentEmail) + 1;
            let currentUserData = leaderboardData.find(u => u.email === currentEmail);
            
            console.log('📍 User rank:', currentUserRank, '| Found in list:', !!currentUserData);
            
            // If user not in leaderboard, use currentUser data
            if (!currentUserData && currentUser) {
                console.log('ℹ️ User not in leaderboard, using currentUser data');
                currentUserData = {
                    email: currentUser.email,
                    username: currentUser.username,
                    level: currentUser.level || 1,
                    miningDays: currentUser.miningDays || 0,
                    country: currentUser.country || 'Turkey'
                };
            }
            
            if (leaderboardData.length === 0) {
                return `
                    <div style="display: flex; align-items: center; justify-content: center; min-height: 400px; padding: 20px;">
                        <div style="background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(100, 100, 100, 0.4); border-radius: 20px; padding: 40px 30px; max-width: 340px; width: 100%; text-align: center; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);">
                            <div style="background: rgba(100, 100, 100, 0.2); border: 2px solid rgba(100, 100, 100, 0.3); border-radius: 16px; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 40px;">
                                🏆
                            </div>
                            <h2 style="color: rgba(255, 255, 255, 0.6); font-size: 22px; font-weight: 900; margin-bottom: 12px;">
                                No Rankings Yet
                            </h2>
                            <p style="color: rgba(139, 92, 246, 0.7); font-size: 14px; line-height: 1.6;">
                                Start mining to appear on the leaderboard!
                            </p>
                        </div>
                    </div>
                `;
            }
            
            let html = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <svg width="28" height="28" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Shadow -->
                            <ellipse cx="50" cy="115" rx="30" ry="4" fill="#000" opacity="0.3"/>
                            
                            <!-- Base -->
                            <rect x="35" y="95" width="30" height="15" rx="2" fill="url(#trophyBase)" stroke="#8B6914" stroke-width="1"/>
                            <rect x="30" y="90" width="40" height="5" rx="1" fill="url(#trophyPlate)" stroke="#DAA520" stroke-width="0.5"/>
                            
                            <!-- Stem -->
                            <rect x="45" y="70" width="10" height="20" fill="url(#trophyStem)" stroke="#B8860B" stroke-width="0.5"/>
                            
                            <!-- Cup body -->
                            <path d="M25 70 Q25 40 30 30 L70 30 Q75 40 75 70 Z" fill="url(#trophyCup)" stroke="#DAA520" stroke-width="1.5"/>
                            
                            <!-- Cup rim -->
                            <ellipse cx="50" cy="30" rx="20" ry="4" fill="url(#trophyRim)" stroke="#B8860B" stroke-width="0.5"/>
                            
                            <!-- Inner shadow -->
                            <path d="M30 32 Q35 35 40 32" fill="#000" opacity="0.2"/>
                            <path d="M60 32 Q65 35 70 32" fill="#000" opacity="0.2"/>
                            
                            <!-- Left handle -->
                            <path d="M25 45 Q15 45 12 55 Q15 65 25 65" fill="none" stroke="url(#handleGrad)" stroke-width="4" stroke-linecap="round"/>
                            <path d="M25 45 Q15 45 12 55 Q15 65 25 65" fill="none" stroke="#DAA520" stroke-width="2.5" stroke-linecap="round"/>
                            
                            <!-- Right handle -->
                            <path d="M75 45 Q85 45 88 55 Q85 65 75 65" fill="none" stroke="url(#handleGrad)" stroke-width="4" stroke-linecap="round"/>
                            <path d="M75 45 Q85 45 88 55 Q85 65 75 65" fill="none" stroke="#DAA520" stroke-width="2.5" stroke-linecap="round"/>
                            
                            <!-- Shine highlights -->
                            <path d="M35 40 Q40 38 45 40" stroke="#FFF" stroke-width="2" opacity="0.6" stroke-linecap="round"/>
                            <ellipse cx="38" cy="45" rx="3" ry="5" fill="#FFF" opacity="0.3"/>
                            <path d="M55 50 Q58 48 60 50" stroke="#FFF" stroke-width="1.5" opacity="0.5" stroke-linecap="round"/>
                            
                            <!-- Star decoration -->
                            <path d="M50 50 L51 53 L54 53 L52 55 L53 58 L50 56 L47 58 L48 55 L46 53 L49 53 Z" fill="#FFF" opacity="0.4"/>
                            
                            <defs>
                                <linearGradient id="trophyBase" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stop-color="#8B6914"/>
                                    <stop offset="100%" stop-color="#654321"/>
                                </linearGradient>
                                <linearGradient id="trophyPlate" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stop-color="#FFD700"/>
                                    <stop offset="50%" stop-color="#DAA520"/>
                                    <stop offset="100%" stop-color="#B8860B"/>
                                </linearGradient>
                                <linearGradient id="trophyStem" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#DAA520"/>
                                    <stop offset="50%" stop-color="#FFD700"/>
                                    <stop offset="100%" stop-color="#DAA520"/>
                                </linearGradient>
                                <radialGradient id="trophyCup">
                                    <stop offset="0%" stop-color="#FFF8DC"/>
                                    <stop offset="30%" stop-color="#FFD700"/>
                                    <stop offset="70%" stop-color="#FFA500"/>
                                    <stop offset="100%" stop-color="#DAA520"/>
                                </radialGradient>
                                <radialGradient id="trophyRim">
                                    <stop offset="0%" stop-color="#FFFACD"/>
                                    <stop offset="100%" stop-color="#DAA520"/>
                                </radialGradient>
                                <linearGradient id="handleGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#B8860B"/>
                                    <stop offset="50%" stop-color="#FFD700"/>
                                    <stop offset="100%" stop-color="#B8860B"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <div style="color: white; font-size: 18px; font-weight: 800;">Leaderboard</div>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 6px; padding: 4px 8px;">
                        <div style="color: rgba(255, 255, 255, 0.5); font-size: 9px; font-weight: 600; text-align: center;">Updates daily at 00:00 UTC</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
            `;
            
            // Current user card at the top (always show)
            if (currentUserData) {
                // Calculate progress based on 365 days
                const userProgressPercent = Math.min((currentUserData.miningDays / 365) * 100, 100);
                
                html += `
                    <div style="background: rgba(251, 191, 36, 0.1); border: 1px solid #fbbf24; border-radius: 10px; padding: 10px; margin-bottom: 6px;">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                                <div style="color: #fbbf24; width: 30px; text-align: center; font-weight: 800; font-size: 14px;">
                                    #${currentUserRank > 0 ? currentUserRank : '—'}
                                </div>
                                <div style="flex: 1;">
                                    <div style="color: #fbbf24; font-weight: 700; font-size: 14px;">${getCountryFlag(currentUserData.country || 'Turkey')} You</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 6px;">
                                <div class="level-progress-bar" style="width: 70px; height: 16px; background: rgba(10, 20, 40, 0.85); border-radius: 8px; overflow: hidden; position: relative; border: 1px solid rgba(16, 185, 129, 0.3);">
                                    <div class="level-progress-fill" style="height: 100%; background: linear-gradient(90deg, #10b981, #059669); width: ${userProgressPercent}%;"></div>
                                    <div class="level-progress-text" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 8px; font-weight: 700; color: white; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);">
                                        ${currentUserData.miningDays}/365 Days
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="color: #00ffff; font-weight: 800; font-size: 14px;">Lv ${currentUserData.level}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Top 100 list
            leaderboardData.forEach((user, index) => {
                const rank = index + 1;
                const isCurrentUser = user.email === currentEmail;
                const isMedal = rank <= 3;
                
                let medalSVG = '';
                
                if (rank === 1) {
                    // Gold Medal - 3D with shine and shadows
                    medalSVG = `<svg width="32" height="32" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                        <!-- Ribbon -->
                        <path d="M35 5 L40 35 L50 30 L60 35 L65 5 L60 8 L50 3 L40 8 Z" fill="url(#ribbon1)" stroke="#8B0000" stroke-width="0.5"/>
                        
                        <!-- Shadow under medal -->
                        <ellipse cx="50" cy="115" rx="25" ry="4" fill="#000" opacity="0.3"/>
                        
                        <!-- Outer ring - dark edge -->
                        <circle cx="50" cy="70" r="32" fill="url(#goldDark)"/>
                        
                        <!-- Main medal body -->
                        <circle cx="50" cy="70" r="28" fill="url(#goldMedal)" stroke="#B8860B" stroke-width="1.5"/>
                        
                        <!-- Inner decorative ring -->
                        <circle cx="50" cy="70" r="24" fill="none" stroke="url(#goldRing)" stroke-width="2"/>
                        
                        <!-- Center circle -->
                        <circle cx="50" cy="70" r="18" fill="url(#goldCenter)"/>
                        
                        <!-- Number 1 -->
                        <text x="50" y="80" font-family="Arial Black" font-size="24" font-weight="bold" fill="url(#goldText)" text-anchor="middle" stroke="#8B6914" stroke-width="0.5">1</text>
                        
                        <!-- Shine effect top left -->
                        <path d="M30 52 Q35 50 40 52 Q35 54 30 52" fill="#FFF" opacity="0.6"/>
                        <circle cx="32" cy="54" r="3" fill="#FFF" opacity="0.5"/>
                        
                        <!-- Bottom shadow inside -->
                        <path d="M50 88 Q35 85 30 78" fill="#000" opacity="0.2"/>
                        
                        <!-- Star decorations -->
                        <path d="M50 52 L51 55 L54 55 L52 57 L53 60 L50 58 L47 60 L48 57 L46 55 L49 55 Z" fill="#FFF" opacity="0.4"/>
                        
                        <defs>
                            <linearGradient id="ribbon1" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#DC143C"/>
                                <stop offset="100%" stop-color="#8B0000"/>
                            </linearGradient>
                            <radialGradient id="goldDark">
                                <stop offset="70%" stop-color="#DAA520"/>
                                <stop offset="100%" stop-color="#8B6914"/>
                            </radialGradient>
                            <radialGradient id="goldMedal">
                                <stop offset="0%" stop-color="#FFF8DC"/>
                                <stop offset="30%" stop-color="#FFD700"/>
                                <stop offset="70%" stop-color="#FFA500"/>
                                <stop offset="100%" stop-color="#DAA520"/>
                            </radialGradient>
                            <linearGradient id="goldRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#FFF8DC"/>
                                <stop offset="50%" stop-color="#DAA520"/>
                                <stop offset="100%" stop-color="#FFF8DC"/>
                            </linearGradient>
                            <radialGradient id="goldCenter">
                                <stop offset="0%" stop-color="#FFFACD"/>
                                <stop offset="100%" stop-color="#DAA520"/>
                            </radialGradient>
                            <linearGradient id="goldText" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#FFF"/>
                                <stop offset="100%" stop-color="#DAA520"/>
                            </linearGradient>
                        </defs>
                    </svg>`;
                } else if (rank === 2) {
                    // Silver Medal - 3D with metallic shine
                    medalSVG = `<svg width="32" height="32" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                        <path d="M35 5 L40 35 L50 30 L60 35 L65 5 L60 8 L50 3 L40 8 Z" fill="url(#ribbon2)" stroke="#00008B" stroke-width="0.5"/>
                        <ellipse cx="50" cy="115" rx="25" ry="4" fill="#000" opacity="0.3"/>
                        <circle cx="50" cy="70" r="32" fill="url(#silverDark)"/>
                        <circle cx="50" cy="70" r="28" fill="url(#silverMedal)" stroke="#A8A8A8" stroke-width="1.5"/>
                        <circle cx="50" cy="70" r="24" fill="none" stroke="url(#silverRing)" stroke-width="2"/>
                        <circle cx="50" cy="70" r="18" fill="url(#silverCenter)"/>
                        <text x="50" y="80" font-family="Arial Black" font-size="24" font-weight="bold" fill="url(#silverText)" text-anchor="middle" stroke="#696969" stroke-width="0.5">2</text>
                        <path d="M30 52 Q35 50 40 52 Q35 54 30 52" fill="#FFF" opacity="0.8"/>
                        <circle cx="32" cy="54" r="3" fill="#FFF" opacity="0.7"/>
                        <path d="M50 88 Q35 85 30 78" fill="#000" opacity="0.2"/>
                        <path d="M50 52 L51 55 L54 55 L52 57 L53 60 L50 58 L47 60 L48 57 L46 55 L49 55 Z" fill="#FFF" opacity="0.6"/>
                        
                        <defs>
                            <linearGradient id="ribbon2" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#4169E1"/>
                                <stop offset="100%" stop-color="#00008B"/>
                            </linearGradient>
                            <radialGradient id="silverDark">
                                <stop offset="70%" stop-color="#C0C0C0"/>
                                <stop offset="100%" stop-color="#696969"/>
                            </radialGradient>
                            <radialGradient id="silverMedal">
                                <stop offset="0%" stop-color="#FFFFFF"/>
                                <stop offset="30%" stop-color="#E8E8E8"/>
                                <stop offset="70%" stop-color="#C0C0C0"/>
                                <stop offset="100%" stop-color="#A8A8A8"/>
                            </radialGradient>
                            <linearGradient id="silverRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#FFF"/>
                                <stop offset="50%" stop-color="#A8A8A8"/>
                                <stop offset="100%" stop-color="#FFF"/>
                            </linearGradient>
                            <radialGradient id="silverCenter">
                                <stop offset="0%" stop-color="#F5F5F5"/>
                                <stop offset="100%" stop-color="#C0C0C0"/>
                            </radialGradient>
                            <linearGradient id="silverText" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#FFF"/>
                                <stop offset="100%" stop-color="#A8A8A8"/>
                            </linearGradient>
                        </defs>
                    </svg>`;
                } else if (rank === 3) {
                    // Bronze Medal - 3D with warm tones
                    medalSVG = `<svg width="32" height="32" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                        <path d="M35 5 L40 35 L50 30 L60 35 L65 5 L60 8 L50 3 L40 8 Z" fill="url(#ribbon3)" stroke="#006400" stroke-width="0.5"/>
                        <ellipse cx="50" cy="115" rx="25" ry="4" fill="#000" opacity="0.3"/>
                        <circle cx="50" cy="70" r="32" fill="url(#bronzeDark)"/>
                        <circle cx="50" cy="70" r="28" fill="url(#bronzeMedal)" stroke="#8B4513" stroke-width="1.5"/>
                        <circle cx="50" cy="70" r="24" fill="none" stroke="url(#bronzeRing)" stroke-width="2"/>
                        <circle cx="50" cy="70" r="18" fill="url(#bronzeCenter)"/>
                        <text x="50" y="80" font-family="Arial Black" font-size="24" font-weight="bold" fill="url(#bronzeText)" text-anchor="middle" stroke="#654321" stroke-width="0.5">3</text>
                        <path d="M30 52 Q35 50 40 52 Q35 54 30 52" fill="#FFE4B5" opacity="0.6"/>
                        <circle cx="32" cy="54" r="3" fill="#FFE4B5" opacity="0.5"/>
                        <path d="M50 88 Q35 85 30 78" fill="#000" opacity="0.2"/>
                        <path d="M50 52 L51 55 L54 55 L52 57 L53 60 L50 58 L47 60 L48 57 L46 55 L49 55 Z" fill="#FFE4B5" opacity="0.4"/>
                        
                        <defs>
                            <linearGradient id="ribbon3" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#32CD32"/>
                                <stop offset="100%" stop-color="#006400"/>
                            </linearGradient>
                            <radialGradient id="bronzeDark">
                                <stop offset="70%" stop-color="#B87333"/>
                                <stop offset="100%" stop-color="#654321"/>
                            </radialGradient>
                            <radialGradient id="bronzeMedal">
                                <stop offset="0%" stop-color="#FFE4C4"/>
                                <stop offset="30%" stop-color="#CD853F"/>
                                <stop offset="70%" stop-color="#B87333"/>
                                <stop offset="100%" stop-color="#8B4513"/>
                            </radialGradient>
                            <linearGradient id="bronzeRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#FFE4B5"/>
                                <stop offset="50%" stop-color="#8B4513"/>
                                <stop offset="100%" stop-color="#FFE4B5"/>
                            </linearGradient>
                            <radialGradient id="bronzeCenter">
                                <stop offset="0%" stop-color="#DEB887"/>
                                <stop offset="100%" stop-color="#B87333"/>
                            </radialGradient>
                            <linearGradient id="bronzeText" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#FFE4B5"/>
                                <stop offset="100%" stop-color="#8B4513"/>
                            </linearGradient>
                        </defs>
                    </svg>`;
                }
                
                // Calculate progress based on 365 days
                const progressPercent = Math.min((user.miningDays / 365) * 100, 100);
                
                html += `
                    <div style="background: ${isCurrentUser ? 'rgba(251, 191, 36, 0.1)' : 'rgba(0, 0, 0, 0.3)'}; border: 1px solid ${isCurrentUser ? '#fbbf24' : 'rgba(0, 255, 255, 0.2)'}; border-radius: 10px; padding: 10px; ${isCurrentUser ? '' : ''}">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                                ${isMedal ? 
                                    `<div style="display: flex; align-items: center; gap: 1px;">
                                        <div style="width: 32px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">${medalSVG}</div>
                                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 14px; font-weight: 800; min-width: 26px;">#${rank}</div>
                                    </div>` :
                                    `<div style="color: rgba(255, 255, 255, 0.5); font-weight: 800; font-size: 14px; min-width: 26px; margin-left: 33px;">#${rank}</div>`
                                }
                                <div style="flex: 1; min-width: 0;">
                                    <div style="color: ${isCurrentUser ? '#fbbf24' : (rank <= 3 ? '#00ffff' : 'white')}; font-weight: 700; font-size: 14px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                        ${user.country ? getCountryFlag(user.country) : '🌍'} ${user.username}
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 6px;">
                                <div class="level-progress-bar" style="width: 70px; height: 16px; background: rgba(10, 20, 40, 0.85); border-radius: 8px; overflow: hidden; position: relative; border: 1px solid rgba(16, 185, 129, 0.3);">
                                    <div class="level-progress-fill" style="height: 100%; background: linear-gradient(90deg, #10b981, #059669); width: ${progressPercent}%;"></div>
                                    <div class="level-progress-text" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 8px; font-weight: 700; color: white; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);">
                                        ${user.miningDays}/365 Days
                                    </div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="color: #00ffff; font-weight: 800; font-size: 14px;">Lv ${user.level}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div></div>'; // Close items container and main container
            
            return html;
        }
        
        // Cache for referrals - only fetch once per app session
        let cachedReferralsData = null;
        
        async function getReferralsPageContent() {
            // Get current user from backend
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const currentEmail = localStorage.getItem('currentUser');
            
            // Get referrals from backend OR cache
            const now = Date.now();
            let activeRefs = [];
            let inactiveRefs = [];
            
            try {
                // Use cache if available
                if (cachedReferralsData) {
                    console.log('✅ Using cached referrals data');
                    activeRefs = cachedReferralsData.activeRefs;
                    inactiveRefs = cachedReferralsData.inactiveRefs;
                } else {
                    console.log('🔄 Fetching referrals from backend...');
                    
                    // Get all referrals with isActive field
                    const refResponse = await fetch(API_ENDPOINTS.getReferrals + '?userId=' + currentUser.userId);
                    const refData = await refResponse.json();
                    
                    if (refResponse.ok && refData.referrals) {
                        const allReferrals = refData.referrals;
                        
                        // Backend now provides isActive field for each referral
                        activeRefs = allReferrals.filter(r => r.isActive === true);
                        inactiveRefs = allReferrals.filter(r => r.isActive === false);
                        
                        // Cache the results
                        cachedReferralsData = { activeRefs, inactiveRefs };
                        console.log('✅ Referrals cached:', { active: activeRefs.length, inactive: inactiveRefs.length });
                    }
                }
            } catch (err) {
                console.error('Failed to fetch referrals:', err);
            }
            
            // Check notification cooldown (5 minutes)
            const lastNotifTime = parseInt(localStorage.getItem('lastReferralNotif_' + currentEmail) || '0');
            const canSendNotif = (now - lastNotifTime) > (5 * 60 * 1000);
            
            return `
                <!-- Referral Code Section -->
                <div class="card" style="margin-bottom: 20px;">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div style="color: #8b5cf6; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px;">Your Referral Code</div>
                        <div class="ref-compact">
                            <div class="ref-code-text">${currentUser.username}</div>
                            <button class="copy-btn" onclick="copyReferralCode()">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                </svg>
                                Copy
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Tabs -->
                <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                    <button id="activeTab" onclick="switchReferralTab('active')" style="flex: 1; background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.4); border-radius: 8px; padding: 10px; color: #10b981; font-size: 13px; font-weight: 700; cursor: pointer;">
                        🟢 Active (${activeRefs.length})
                    </button>
                    <button id="inactiveTab" onclick="switchReferralTab('inactive')" style="flex: 1; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 10px; color: rgba(255, 255, 255, 0.5); font-size: 13px; font-weight: 700; cursor: pointer;">
                        ⚪ Inactive (${inactiveRefs.length})
                    </button>
                </div>
                
                <!-- Active List -->
                <div id="activeList" style="display: flex; flex-direction: column; gap: 10px;">
                    ${activeRefs.length > 0 ? activeRefs.map(ref => `
                        <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 14px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: white; font-size: 15px; font-weight: 700; margin-bottom: 4px;">${ref.username}</div>
                                    <div style="color: rgba(255, 255, 255, 0.5); font-size: 12px;">Level ${ref.level}</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px; color: #10b981; font-size: 12px; font-weight: 700;">
                                    <div style="width: 8px; height: 8px; background: #10b981; border-radius: 50%;"></div>
                                    Mining
                                </div>
                            </div>
                        </div>
                    `).join('') : '<div style="text-align: center; padding: 40px 20px; color: rgba(255, 255, 255, 0.4); font-size: 14px;">No active referrals yet</div>'}
                </div>
                
                <!-- Inactive List -->
                <div id="inactiveList" style="display: none; flex-direction: column; gap: 10px;">
                    ${inactiveRefs.length > 0 ? `
                        ${inactiveRefs.map(ref => `
                            <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 14px;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="color: white; font-size: 15px; font-weight: 700; margin-bottom: 4px;">${ref.username}</div>
                                        <div style="color: rgba(255, 255, 255, 0.5); font-size: 12px;">Level ${ref.level}</div>
                                    </div>
                                    <div style="color: rgba(255, 255, 255, 0.3); font-size: 12px; font-weight: 600;">
                                        💤 Idle
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                        
                        <!-- Notify Button -->
                        <button onclick="sendReferralNotification()" ${!canSendNotif ? 'disabled' : ''} style="background: ${canSendNotif ? 'linear-gradient(135deg, #8b5cf6, #7c3aed)' : 'rgba(0, 0, 0, 0.3)'}; border: none; border-radius: 12px; padding: 14px; color: white; font-size: 14px; font-weight: 700; cursor: ${canSendNotif ? 'pointer' : 'not-allowed'}; margin-top: 10px; opacity: ${canSendNotif ? '1' : '0.5'};">
                            ${canSendNotif ? '📢 Notify Inactive Friends' : '⏳ Wait 5 minutes'}
                        </button>
                    ` : '<div style="text-align: center; padding: 40px 20px; color: rgba(255, 255, 255, 0.4); font-size: 14px;">All your referrals are active! 🎉</div>'}
                </div>
            `;
        }
        
        function switchReferralTab(tab) {
            const activeTab = document.getElementById('activeTab');
            const inactiveTab = document.getElementById('inactiveTab');
            const activeList = document.getElementById('activeList');
            const inactiveList = document.getElementById('inactiveList');
            
            if (tab === 'active') {
                activeTab.style.background = 'rgba(16, 185, 129, 0.2)';
                activeTab.style.borderColor = 'rgba(16, 185, 129, 0.4)';
                activeTab.style.color = '#10b981';
                inactiveTab.style.background = 'rgba(0, 0, 0, 0.3)';
                inactiveTab.style.borderColor = 'rgba(255, 255, 255, 0.1)';
                inactiveTab.style.color = 'rgba(255, 255, 255, 0.5)';
                activeList.style.display = 'flex';
                inactiveList.style.display = 'none';
            } else {
                inactiveTab.style.background = 'rgba(139, 92, 246, 0.2)';
                inactiveTab.style.borderColor = 'rgba(139, 92, 246, 0.4)';
                inactiveTab.style.color = '#8b5cf6';
                activeTab.style.background = 'rgba(0, 0, 0, 0.3)';
                activeTab.style.borderColor = 'rgba(255, 255, 255, 0.1)';
                activeTab.style.color = 'rgba(255, 255, 255, 0.5)';
                inactiveList.style.display = 'flex';
                activeList.style.display = 'none';
            }
        }
        
        function sendReferralNotification() {
            const currentEmail = localStorage.getItem('currentUser');
            const now = Date.now();
            
            // Set cooldown
            localStorage.setItem('lastReferralNotif_' + currentEmail, now.toString());
            
            showToast('✓ Notification sent to inactive friends!');
            
            // Reload page to update button state
            openPage('referrals');
        }
        
        function openReferralsDirectly() {
            // Set flag to ignore next popstate
            ignoreNextPopstate = true;
            
            // Manually close menu without history manipulation
            const sidebar = document.getElementById('menuSidebar');
            const overlay = document.getElementById('menuOverlay');
            if (sidebar && sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
                overlay.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
            
            const fullPage = document.getElementById('fullPage');
            const pageTitle = document.getElementById('fullPageTitle');
            const pageContent = document.getElementById('fullPageContent');
            
            pageTitle.textContent = 'My Referrals';
            getReferralsPageContent().then(html => pageContent.innerHTML = html);
            fullPage.classList.add('active');
            fullPage.dataset.currentPage = 'referrals';
            
            // Reset flag after a moment
            setTimeout(() => { ignoreNextPopstate = false; }, 200);
        }
        
        function openReferralsPage() {
            // AGGRESSIVE state management for instant back button
            try {
                // Push TWO states for immediate response
                history.pushState({ page: 'main' }, '', '');
                history.pushState({ page: 'referrals' }, '', '#referrals');
            } catch(e) {}
            
            // Now open the page normally
            openPage('referrals');
        }
        
        async function claimReferralEarnings() {
            // Prevent double-claiming
            if (isClaimingReferral) return;
            
            if (!currentUser.pendingReferralEarnings || currentUser.pendingReferralEarnings === 0) {
                showToast('❌ No earnings to claim', true);
                return;
            }
            
            // Set lock
            isClaimingReferral = true;
            
            // Store old values for rollback
            const oldBalance = d.balance;
            const oldPendingEarnings = d.pendingReferralEarnings;
            const earningsAmount = currentUser.pendingReferralEarnings;
            
            // ⚡ OPTIMISTIC UI - Update immediately (0ms)
            d.balance += earningsAmount;
            d.pendingReferralEarnings = 0;
            currentUser.pendingReferralEarnings = 0;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            save();
            
            // Update UI instantly
            render();
            showToast(`✓ Claimed ${earningsAmount} Coins from referrals!`);
            
            // ⚡ PARALLEL backend calls (all at once!)
            (async () => {
                try {
                    // 🔥 SINGLE REQUEST - Backend handles pending rewards!
                    const claimResponse = await fetch(API_ENDPOINTS.claimReferralEarnings, {
                        method: 'POST',
                        headers: getApiHeaders(),
                        body: JSON.stringify({
                            userId: currentUser.userId
                        })
                    });
                    
                    const data = await claimResponse.json();
                    
                    if (data.earnings) {
                        // Use backend's exact balance (no flash!)
                        d.balance = data.newBalance || d.balance;
                        currentUser.balance = d.balance;
                        
                        // Backend automatically claims all pending referral rewards ✅
                        
                        save();
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        
                        // Reload app to refresh pending rewards
                        await initApp();
                        render();
                    } else {
                        // Rollback on error
                        d.balance = oldBalance;
                        d.pendingReferralEarnings = oldPendingEarnings;
                        currentUser.pendingReferralEarnings = oldPendingEarnings;
                        render();
                        showToast('❌ Failed to claim referral earnings', true);
                    }
                } catch (err) {
                    console.error('Referral claim failed:', err);
                    // Rollback on error
                    d.balance = oldBalance;
                    d.pendingReferralEarnings = oldPendingEarnings;
                    currentUser.pendingReferralEarnings = oldPendingEarnings;
                    render();
                    showToast('❌ Failed to claim referral earnings', true);
                } finally {
                    setTimeout(() => {
                        isClaimingReferral = false;
                    }, 1000);
                }
            })();
        }
        
        function getProfilePageContent() {
            return `
                <div style="background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 255, 255, 0.2); border-radius: 12px; padding: 15px; margin-bottom: 25px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 900; color: white;">${currentUser.username}</div>
                    <div style="font-size: 13px; color: #8b5cf6; margin-top: 4px;">@${currentUser.username}</div>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;">Personal Information</div>
                        <button id="editInfoBtnPage" onclick="toggleEditInfoPage()" style="background: rgba(0, 255, 255, 0.2); border: 1px solid rgba(0, 255, 255, 0.4); border-radius: 8px; padding: 6px 12px; color: #00ffff; font-size: 12px; font-weight: 700; cursor: pointer;">
                            ✏️ Edit
                        </button>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Full Name</div>
                        <input type="text" id="inputFullNamePage" class="form-input" placeholder="Enter your full name" value="${d.fullName || ''}" style="margin: 0;" disabled>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Email Address</div>
                        <input type="email" id="inputEmailPage" class="form-input" placeholder="Enter your email" value="${currentUser.email}" style="margin: 0;" disabled>
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Birth Date</div>
                        <input type="text" id="inputBirthDatePage" class="form-input" placeholder="DD/MM/YYYY" value="${d.birthDate || ''}" style="margin: 0;" maxlength="10" disabled oninput="formatBirthDateInput(this)">
                    </div>
                    <div style="background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(0, 255, 255, 0.15); border-radius: 12px; padding: 14px; margin-bottom: 10px;">
                        <div style="font-size: 11px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">Country</div>
                        <div class="country-dropdown">
                            <input type="text" id="inputCountryPage" class="form-input" placeholder="Select or type your country" value="${d.country || ''}" style="margin: 0;" disabled autocomplete="off" onfocus="showCountryDropdown('inputCountryPage', 'countryDropdownPage')" oninput="filterCountries('inputCountryPage', 'countryDropdownPage')" onblur="setTimeout(() => validateCountryInput('inputCountryPage'), 200)">
                            <div id="countryDropdownPage" class="country-dropdown-list"></div>
                        </div>
                    </div>
                    <button id="saveInfoBtnPage" class="profile-action-btn" onclick="savePersonalInfoPage()" style="background: linear-gradient(135deg, #00ffff, #0096ff); color: #000; font-weight: 900; display: none;">
                        ✓ Save Information
                    </button>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">Account Settings</div>
                    <button class="profile-action-btn" onclick="showChangePassword()">🔒 Change Password</button>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="font-size: 14px; color: #8b5cf6; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">Share</div>
                    <button class="profile-action-btn" onclick="shareProfile()">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                            <circle cx="18" cy="5" r="3"/>
                            <circle cx="6" cy="12" r="3"/>
                            <circle cx="18" cy="19" r="3"/>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                        </svg>
                        Share
                    </button>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <button class="profile-action-btn profile-delete-btn" onclick="showDeleteAccount()">🗑️ Delete Account</button>
                </div>
            `;
        }
        
        function toggleEditInfoPage() {
            const inputs = [
                document.getElementById('inputFullNamePage'),
                document.getElementById('inputEmailPage'),
                document.getElementById('inputBirthDatePage'),
                document.getElementById('inputCountryPage')
            ];
            
            const isDisabled = inputs[0].disabled;
            
            inputs.forEach(input => {
                if (input) input.disabled = !isDisabled;
            });
            
            document.getElementById('saveInfoBtnPage').style.display = isDisabled ? 'block' : 'none';
            document.getElementById('editInfoBtnPage').style.display = isDisabled ? 'none' : 'block';
        }
        
        async function savePersonalInfoPage() {
            const newEmail = document.getElementById('inputEmailPage').value.trim().toLowerCase();
            const fullName = document.getElementById('inputFullNamePage').value.trim();
            const birthDate = document.getElementById('inputBirthDatePage').value.trim();
            const country = document.getElementById('inputCountryPage').value.trim();
            
            // Validate full name
            const fullNameRegex = /^[a-zA-Z\s]+$/;
            if (!fullNameRegex.test(fullName)) {
                showToast('❌ Full Name: Only English letters allowed');
                return;
            }
            if (fullName.length < 3) {
                showToast('❌ Full Name must be at least 3 characters');
                return;
            }
            
            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(newEmail)) {
                showToast('❌ Invalid email');
                return;
            }
            
            // Validate birth date
            if (birthDate) {
                const dateRegex = /^(\d{2})\/(\d{2})\/(\d{4})$/;
                const match = birthDate.match(dateRegex);
                if (!match) {
                    showToast('❌ Format: DD/MM/YYYY');
                    return;
                }
                const day = parseInt(match[1]);
                const month = parseInt(match[2]);
                const year = parseInt(match[3]);
                if (year < 1923 || year > 2007 || month < 1 || month > 12 || day < 1 || day > 31) {
                    showToast('❌ Invalid date');
                    return;
                }
            }
            
            try {
                // Update profile
                const profileRes = await fetch(API_ENDPOINTS.updateProfile, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({userId: currentUser.userId, fullName, birthDate, country})
                });
                
                if (!profileRes.ok) {
                    const data = await profileRes.json();
                    showToast(`❌ ${data.error || 'Failed'}`);
                    return;
                }
                
                // Update email if changed
                if (newEmail !== currentUser.email) {
                    const emailRes = await fetch(API_ENDPOINTS.updateEmail, {
                        method: 'POST',
                        headers: getApiHeaders(),
                        body: JSON.stringify({userId: currentUser.userId, newEmail})
                    });
                    
                    if (!emailRes.ok) {
                        const data = await emailRes.json();
                        showToast(`❌ ${data.error || 'Email update failed'}`);
                        return;
                    }
                    currentUser.email = newEmail;
                }
                
                currentUser.fullName = fullName;
                currentUser.birthDate = birthDate;
                currentUser.country = country;
                
                showToast('✓ Profile updated');
                document.getElementById('inputFullNamePage').disabled = true;
                document.getElementById('inputEmailPage').disabled = true;
                document.getElementById('inputBirthDatePage').disabled = true;
                document.getElementById('inputCountryPage').disabled = true;
                document.getElementById('saveInfoBtnPage').style.display = 'none';
                document.getElementById('editInfoBtnPage').style.display = 'block';
                
                await initApp();
            } catch (error) {
                console.error('Save profile error:', error);
                showToast('❌ Failed to update');
            }
        }

        
        function changeAvatarInPage(color) {
            d.avatarColor = color;
            save();
            openPage('profile');
        }
        
        createParticles();
        
        // Splash screen - checkAuth çağır, splash initApp bitene kadar kalacak
        window.addEventListener('load', function() {
            checkAuth();
        });
        
        // Exit handling - double back press
        let lastBackPress = 0;
        const backPressInterval = 2000; // 2 seconds
        let ignoreNextPopstate = false; // Flag to ignore popstate
        
        // Handle back button (with error handling for restricted environments)
        try {
            window.addEventListener('popstate', function(event) {
                // Check ignore flag
                if (ignoreNextPopstate) {
                    ignoreNextPopstate = false;
                    return;
                }
                
                const fullPage = document.getElementById('fullPage');
                const sidebar = document.getElementById('menuSidebar');
                
                // Check if any profile modal is open
                const changeEmailModal = document.getElementById('changeEmailModal');
                const changePasswordModal = document.getElementById('changePasswordModal');
                const deleteAccountModal = document.getElementById('deleteAccountModal');
                
                if (changeEmailModal && changeEmailModal.classList.contains('show')) {
                    closeChangeEmail();
                    history.pushState({ page: 'main' }, '', '');
                    return;
                }
                
                if (changePasswordModal && changePasswordModal.classList.contains('show')) {
                    closeChangePassword();
                    history.pushState({ page: 'main' }, '', '');
                    return;
                }
                
                if (deleteAccountModal && deleteAccountModal.classList.contains('show')) {
                    closeDeleteAccount();
                    history.pushState({ page: 'main' }, '', '');
                    return;
                }
                
                // Check if full page is open - close it and go to main (CHECK THIS FIRST!)
                if (fullPage && fullPage.classList.contains('active')) {
                    closePage();
                    history.pushState({ page: 'main' }, '', '');
                    return; // IMPORTANT: return here!
                }
                
                // Check if menu is open - close it and go to main
                if (sidebar && sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                    document.getElementById('menuOverlay').classList.remove('show');
                    document.body.style.overflow = 'auto';
                    history.pushState({ page: 'main' }, '', '');
                    return; // IMPORTANT: return here!
                }
                
                // On main page - handle exit (only if nothing else is open)
                const currentTime = Date.now();
                
                if (currentTime - lastBackPress < backPressInterval) {
                    // Second press within interval - allow exit
                    // Browser will handle the exit
                    return;
                } else {
                    // First press - set timestamp (no toast)
                    lastBackPress = currentTime;
                    
                    // Push a new state so back button can be pressed again
                    history.pushState({ page: 'main' }, '', '');
                }
            });
            
            // Set initial state
            history.replaceState({ page: 'main' }, '', window.location.pathname);
        } catch(e) {
            // History API not available or restricted - use alternative
            // Listen for hashchange as fallback
            window.addEventListener('hashchange', function() {
                const hash = window.location.hash;
                const sidebar = document.getElementById('menuSidebar');
                
                if (!hash || hash === '') {
                    // Close menu if open
                    if (sidebar && sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                        document.getElementById('menuOverlay').classList.remove('show');
                        document.body.style.overflow = 'auto';
                    }
                    
                    // Close page if open
                    const fullPage = document.getElementById('fullPage');
                    if (fullPage && fullPage.classList.contains('active')) {
                        closePage();
                    }
                }
            });
        }
		/* ==================================================
   PERMA VISUAL LOCK + HARD FUNCTION LOCK (LAST 30s)
   - No flicker
   - Survives re-render
   - Unlocks on new mining session
   ================================================== */
(function () {
  try {
    const LOCK_BEFORE_MS = 30 * 1000;

    function userEmail() {
      return localStorage.getItem("currentUser") || "";
    }

    function miningEndTime() {
      const email = userEmail();
      if (!email) return 0;
      return Number(localStorage.getItem("miningEndTime_" + email)) || 0;
    }

    function lockKey() {
      const email = userEmail();
      const end = miningEndTime();
      return email && end ? `adUiLocked_${email}_${end}` : "";
    }

    function shouldLockNow() {
      const end = miningEndTime();
      if (!end) return false;
      return (end - Date.now()) <= LOCK_BEFORE_MS;
    }

    function isLockedForThisMining() {
      const k = lockKey();
      if (!k) return false;
      return localStorage.getItem(k) === "1";
    }

    function setLockedForThisMining() {
      const k = lockKey();
      if (!k) return;
      localStorage.setItem(k, "1");
    }

    // Reklam butonunu bul (senin UI'da "📺 Watch Ad +0.25 MR" var)
    function findAdButton() {
      // Eğer ID/class biliyorsan buraya eklemen en iyi seçenek:
      return (
        document.querySelector("#watchAdBtn") ||
        document.querySelector(".btn-bonus") ||
        [...document.querySelectorAll("button")].find(b =>
          (b.textContent || "").toLowerCase().includes("watch ad")
          || (b.textContent || "").includes("📺 Watch Ad")
        )
      );
    }

    // Görsel kilit: render ne yaparsa yapsın tekrar uygula
    function applyVisualLock(btn) {
      if (!btn) return;

      // Orijinal yazıyı bir kere sakla (unlock için)
      if (!btn.dataset.origText) btn.dataset.origText = btn.textContent;

      btn.disabled = true;
      btn.style.pointerEvents = "none";
      btn.style.opacity = "0.45";
      btn.style.filter = "grayscale(1)";
      btn.textContent = "⛔ DISABLED (last 30s)";
      btn.dataset.adLocked = "1";
    }

    function removeVisualLock(btn) {
      if (!btn) return;

      if (btn.dataset.adLocked === "1") {
        btn.disabled = false;
        btn.style.pointerEvents = "auto";
        btn.style.opacity = "1";
        btn.style.filter = "";
        if (btn.dataset.origText) btn.textContent = btn.dataset.origText;
        delete btn.dataset.adLocked;
      }
    }

    // Çekirdek kilit: tıklansa bile çalışmasın
    function hookAdFunction() {
      if (typeof window.watchAdBoost === "function" && !window.watchAdBoost.__HARD_LOCKED) {
        const original = window.watchAdBoost;
        window.watchAdBoost = function () {
          // Kilit aktifse asla çalıştırma
          if (isLockedForThisMining() || shouldLockNow()) return;
          return original.apply(this, arguments);
        };
        window.watchAdBoost.__HARD_LOCKED = true;
      }
    }

    // Render sonrası tekrar basılınca bile butonu kilitle
    function enforce() {
      const end = miningEndTime();
      if (!end) return;

      // Son 30 saniyeye girildiyse bir kez kilidi yak
      if (shouldLockNow()) setLockedForThisMining();

      const btn = findAdButton();
      if (!btn) return;

      if (isLockedForThisMining()) applyVisualLock(btn);
      else removeVisualLock(btn);
    }

    // DOM değişince (render) tekrar uygula
    const obs = new MutationObserver(() => {
      hookAdFunction();
      enforce();
    });

    obs.observe(document.documentElement, { childList: true, subtree: true });

    // İlk çalıştırma + periyodik garanti
    hookAdFunction();
    enforce();
    setInterval(() => {
      hookAdFunction();
      enforce();
    }, 300);

  } catch (e) {
    console.warn("Perma ad lock failed", e);
  }
})();


        function showForgotPassword() {
            document.getElementById('forgotPasswordModal').classList.add('show');
        }
        
        function closeForgotPassword() {
    clearForgotError();
            document.getElementById('forgotPasswordModal').classList.remove('show');
            document.getElementById('forgotEmail').value = '';
        }
        
        
function showForgotStatus(msg, type){
  const b = document.getElementById('forgotError');
  if(!b) return;
  b.innerText = msg;
  b.style.display = 'block';
  if(type === 'success') b.className = 'success-msg';
  else if(type === 'info') b.className = 'info-msg';
  else b.className = 'error-msg';
}
function showForgotError(msg){ showForgotStatus(msg, 'error'); }
function showForgotInfo(msg){ showForgotStatus(msg, 'info'); }
function showForgotSuccess(msg){ showForgotStatus(msg, 'success'); }
function clearForgotError(){
  const b = document.getElementById('forgotError');
  if(!b) return;
  b.innerText = '';
  b.style.display = 'none';
  b.className = 'error-msg';
}

async function sendPasswordReset() {
            const email = document.getElementById('forgotEmail').value.trim().toLowerCase();
            
            if (!email) {
                showForgotError('Please enter your email');
                return;
            }
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showForgotError('Invalid email format');
                return;
            }
            
            try {
                showForgotInfo("Waiting for server response..");

                const response = await fetch(API_ENDPOINTS.sendPasswordReset, {
                    method: 'POST',
                    headers: getApiHeaders(),
                    body: JSON.stringify({ email: email })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showForgotSuccess(data.message || "Reset link sent. Check your email.");
                    // Keep success message visible briefly, then proceed
                    setTimeout(() => {
                        closeForgotPassword();
                        window.__resetEmail = email;
                        const box = document.getElementById('resetWithCodeBox');
                        if (box) box.style.display = 'flex';
                    }, 1000);
                } else {
                    showForgotError(data.error || 'Email not found');
                }
            } catch (error) {
                console.error('Password reset error:', error);
                showForgotError('Failed to send reset link');
            }
        }

        function togglePassword(inputId, button) {
            const input = document.getElementById(inputId);
            if (input.type === 'password') {
                input.type = 'text';
                button.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/><line x1="4" y1="4" x2="20" y2="20"/></svg>';
            } else {
                input.type = 'password';
                button.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>';
            }
        }
    </script>

<!-- Forgot Password Modal -->
<div id="forgotPasswordModal" class="modal-overlay">
    <div class="modal-content" style="max-width: 400px;">
        <h2 style="color: white; font-size: 22px; font-weight: 900; margin-bottom: 20px; text-align: center;">Reset Password</h2>
        <p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-bottom: 20px; text-align: center;">Enter your email address and we'll send you a password reset link.</p>
        <div class="form-group">
            <div id="forgotError" class="error-msg" style="display:none;"></div>
        <input type="email" class="form-input" id="forgotEmail" placeholder="Enter your email" style="margin-bottom: 20px;">
        </div>
        <button class="btn btn-primary" onclick="sendPasswordReset()" style="width: 100%; margin-bottom: 12px;">Send Reset Link</button>
        <button class="btn" onclick="closeForgotPassword()" style="width: 100%; background: rgba(100, 100, 100, 0.2); border: 1px solid rgba(150, 150, 150, 0.3);">Cancel</button>
    </div>
</div>

<!-- Offline Page -->
<div id="offlinePage" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #0a1428 0%, #1a2a4a 100%); z-index: 99999; flex-direction: column; align-items: center; justify-content: center; padding: 20px;">
    <div style="text-align: center;">
        <!-- Logo -->
        <div style="width: 120px; height: 120px; margin: 0 auto 30px; background: linear-gradient(135deg, #00ffff, #0ea5e9); border-radius: 30px; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 32px rgba(0, 255, 255, 0.3);">
            <span style="font-size: 60px; font-weight: 900; color: #0a1428;">A</span>
        </div>
        
        <!-- Title -->
        <h1 style="color: white; font-size: 28px; font-weight: 900; margin-bottom: 12px;">No Internet Connection</h1>
        
        <!-- Message -->
        <p style="color: rgba(255, 255, 255, 0.7); font-size: 16px; margin-bottom: 30px; line-height: 1.6;">Please check your internet connection<br>and try again</p>
        
        <!-- Retry Button -->
        <button onclick="location.reload()" style="background: linear-gradient(135deg, #00ffff, #0ea5e9); color: #0a1428; border: none; padding: 14px 40px; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 16px rgba(0, 255, 255, 0.3); transition: all 0.3s;">
            Retry Connection
        </button>
        
        <!-- Icon -->
        <div style="margin-top: 40px; opacity: 0.3;">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
                <line x1="1" y1="1" x2="23" y2="23"/>
            </svg>
        </div>
    </div>
</div>

<script>
// Show offline page when no connection
function checkConnection() {
    if (!navigator.onLine) {
        document.getElementById('offlinePage').style.display = 'flex';
    } else {
        document.getElementById('offlinePage').style.display = 'none';
    }
}

// ONLY check on actual connection changes (not on page load)
window.addEventListener('online', checkConnection);
window.addEventListener('offline', checkConnection);
</script>


<script>
async function __doConfirmReset(){

  if(!window.__resetEmail){
    if (typeof showToast === 'function') showToast('❌ Reset email missing', true);
    else alert('Reset email missing');
    return;
  }

  const email = (window.__resetEmail || (document.getElementById('forgotEmail')||{}).value || "").trim().toLowerCase();
  const code = (document.getElementById('resetCode')||{}).value?.trim();
  const newPassword = (document.getElementById('resetNewPassword')||{}).value || "";

  
  if(!code || !newPassword){
    if (typeof showToast === 'function') showToast('❌ Fill all fields', true);
    else alert('Fill all fields');
    return;
  }


  try{
    const res = await fetch(API_ENDPOINTS.resetPasswordWithCode, {
      method: 'POST',
      headers: getApiHeaders(),
      body: JSON.stringify({ email: window.__resetEmail, code, newPassword })
    });
    let data = {};
    try { data = await res.json(); } catch(_) {}

    if(res.ok){
      if (typeof showToast === 'function') showToast('✓ Password reset successful');
      else alert('Password reset successful');
      const box = document.getElementById('resetWithCodeBox');
      if (box) box.style.display = 'none';
      const c = document.getElementById('resetCode'); if (c) c.value = '';
      const p = document.getElementById('resetNewPassword'); if (p) p.value = '';
    } else {
      const msg = (data && data.error) ? data.error : 'Reset failed';
      if (typeof showToast === 'function') showToast('❌ ' + msg, true);
      else alert(msg);
    }
  } catch(e){
    if (typeof showToast === 'function') showToast('❌ Reset failed', true);
    else alert('Reset failed');
  }
}
window.__doConfirmReset = __doConfirmReset;
</script>


<!--  (LOGIN ONLY) -->
<div id="loadingScreen" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0a1428 0%, #1a2a4a 100%);
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 99999;
    gap: 20px;
">
    <div style="
        width: 60px;
        height: 60px;
        border: 4px solid rgba(0, 255, 255, 0.2);
        border-top-color: #00ffff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    "></div>
    <div style="
        color: #00ffff;
        font-size: 18px;
        font-weight: 600;
        text-align: center;
    ">Loading…</div>
</div>

</body>
</html>


<!-- ================= STYLED RESET PASSWORD MODAL (FINAL) ================= -->
<style>
  #resetWithCodeBox{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(5,10,25,.75);
    backdrop-filter: blur(6px);
    z-index:2147483647;
    align-items:center;
    justify-content:center;
  }
  .reset-card{
    width:92%;
    max-width:420px;
    background:linear-gradient(180deg,#0e1630,#0a1024);
    border:1px solid rgba(0,212,255,.25);
    border-radius:18px;
    padding:26px 24px 28px;
    box-shadow:0 20px 60px rgba(0,0,0,.6);
    color:#e5f6ff;
    font-family:inherit;
  }
  .reset-card h3{
    margin:0 0 6px;
    font-size:22px;
    text-align:center;
    letter-spacing:.3px;
  }
  .reset-card p{
    margin:0 0 18px;
    text-align:center;
    font-size:13px;
    color:#9fdcff;
  }
  .reset-field{
    width:100%;
    background:#0b1228;
    border:1px solid rgba(0,212,255,.25);
    border-radius:12px;
    padding:14px 14px;
    margin-bottom:14px;
    color:#eaffff;
    outline:none;
  }
  .reset-field:focus{
    border-color:#00d4ff;
    box-shadow:0 0 0 2px rgba(0,212,255,.2);
  }
  .reset-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:14px;
    background:linear-gradient(90deg,#00d4ff,#4f9cff);
    color:#001018;
    font-weight:700;
    letter-spacing:.4px;
    cursor:pointer;
    transition:transform .08s ease, box-shadow .08s ease, opacity .08s ease;
  }
  .reset-btn:hover{
    transform:translateY(-1px);
    box-shadow:0 8px 22px rgba(0,212,255,.35);
  }
  .reset-close{
    position:absolute;
    top:16px;
    right:18px;
    font-size:20px;
    color:#7ddfff;
    cursor:pointer;
  }

  .reset-status{
    margin-top:12px;
    padding:10px 12px;
    border-radius:12px;
    font-size:13px;
    font-weight:700;
    line-height:1.35;
    text-align:center;
    border:1px solid rgba(0,255,255,0.25);
    background:rgba(0,0,0,0.35);
    color:#e5f6ff;
  }
  .reset-status.waiting{
    border-color: rgba(56,189,248,0.45);
    background: rgba(14,165,233,0.12);
    color:#bae6fd;
  }
  .reset-status.ok{
    border-color: rgba(34,197,94,0.55);
    background: rgba(34,197,94,0.12);
    color:#bbf7d0;
  }
  .reset-status.err{
    border-color: rgba(239,68,68,0.55);
    background: rgba(239,68,68,0.12);
    color:#fecaca;
  }

        .days-badge {
            min-width: 9ch;
            max-width: 9ch;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
            font-weight: 700;
            line-height: 1;
        }
        
/* === PRO LOADING SCREEN === */
#loadingScreen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

.loading-card {
    background: rgba(10,20,40,0.85);
    border-radius: 24px;
    padding: 40px 32px;
    border: 2px solid transparent;
    background:
      linear-gradient(rgba(10,20,40,0.85), rgba(10,20,40,0.85)) padding-box,
      linear-gradient(145deg, rgba(0,255,255,0.4), rgba(123,67,255,0.4)) border-box;
    box-shadow: 0 0 40px rgba(0,255,255,0.25);
    text-align: center;
}

.loading-spinner {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 4px solid rgba(0,255,255,0.15);
    border-top-color: #00ffff;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
}

.loading-text {
    color: #c4b5fd;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

</style>
        

<div id="resetWithCodeBox">
  <div class="reset-card">
    <div class="reset-close" onclick="document.getElementById('resetWithCodeBox').style.display='none'">✕</div>
    <h3>Reset Password</h3>
    <p>Enter the 6-digit code sent to your email</p>
      <div id="resetStatusMsg" class="reset-status" style="display:none;"></div>
    <form id="resetForm">
      <input id="resetCode" class="reset-field" placeholder="6-digit code" inputmode="numeric" autocomplete="one-time-code" />
      <input id="resetNewPassword" class="reset-field" type="password" placeholder="New password" />
      <button class="reset-btn" id="confirmResetBtn" type="button"  onclick="window.handleResetWithCode && window.handleResetWithCode()">Confirm Reset</button>
    </form>
  </div>
</div>

<script>
(function(){
  // Keep reset email even if the "Forgot password" modal gets closed/cleared
  window.__resetEmail = window.__resetEmail || "";

  const orig = window.sendPasswordReset;
  if (typeof orig === 'function') {
    
// resetWithCodeBox auto-open disabled


  async function handleResetWithCode(){

const email = (window.__resetEmail || (document.getElementById('forgotEmail')||{}).value || "").trim().toLowerCase();
const code  = (document.getElementById('resetCode')||{}).value?.trim();
const newPassword = (document.getElementById('resetNewPassword')||{}).value || "";

const box = document.getElementById('resetWithCodeBox');
const statusEl = document.getElementById('resetStatusMsg');

const setStatus = (msg, kind) => {
  if (!statusEl) return;
  statusEl.style.display = 'block';
  statusEl.className = 'reset-status' + (kind ? (' ' + kind) : '');
  statusEl.textContent = msg;
};

const clearStatus = () => {
  if (!statusEl) return;
  statusEl.style.display = 'none';
  statusEl.textContent = '';
  statusEl.className = 'reset-status';
};

if (!email || !code || !newPassword) {
  setStatus('❌ Fill all fields', 'err');
  return;
}

const btn = document.getElementById('confirmResetBtn');
const origText = btn ? btn.textContent : '';
if (btn) { btn.disabled = true; btn.textContent = 'Processing...'; }

// Immediately show waiting message INSIDE modal (backend-independent)
setStatus('⏳ Waiting for server response..', 'waiting');

let closeTimer = null;
const closeModalAfter = (ms) => {
  if (closeTimer) clearTimeout(closeTimer);
  closeTimer = setTimeout(() => {
    if (box) box.style.display = 'none';
    clearStatus();
    // Reset button state even if modal closes
    if (btn) { btn.disabled = false; btn.textContent = origText || 'Confirm Reset'; }
  }, ms);
};

try {
  const res = await fetch(API_ENDPOINTS.resetPasswordWithCode, {
    method: 'POST',
    headers: getApiHeaders(),
    body: JSON.stringify({ email: window.__resetEmail, code, newPassword })
  });

  let data = {};
  try { data = await res.json(); } catch(_) {}

  if (res.ok) {
    setStatus('✓ Password reset successful', 'ok');

    // Clear fields on success
    const c = document.getElementById('resetCode');
    const p = document.getElementById('resetNewPassword');
    if (c) c.value = '';
    if (p) p.value = '';

    // Show message for 1 second, then close modal
    closeModalAfter(1000);
  } else {
    const msg = (data && (data.error || data.message)) ? (data.error || data.message) : 'Invalid code';
    setStatus(`❌ ${msg}`, 'err');

    // Show message for 1 second, then close modal
    closeModalAfter(1000);
  }
} catch (err) {
  setStatus('❌ Reset failed', 'err');
  closeModalAfter(1000);
} finally {
  // If close timer is set, button will be restored when modal closes.
  if (!closeTimer) {
    if (btn) { btn.disabled = false; btn.textContent = origText || 'Confirm Reset'; }
  }
}
}

  // Expose for reliable button handling
  window.handleResetWithCode = handleResetWithCode;
  // Robust delegated handler (prevents 'button does nothing' if binding missed)
  function delegatedResetHandler(e){
    const t = e && e.target;
    if (t && t.id === 'confirmResetBtn') {
      e.preventDefault();
      e.stopPropagation();
      if (typeof window.handleResetWithCode === 'function') window.handleResetWithCode();
    }
  }
  if (!document.documentElement.dataset.delegatedResetHandler) {
    document.documentElement.dataset.delegatedResetHandler = '1';
    document.addEventListener('click', delegatedResetHandler, true);
    document.addEventListener('touchstart', delegatedResetHandler, true);
  }



  
  function bindResetHandlers(){
    const btn = document.getElementById('confirmResetBtn');
    if (btn && !btn.dataset.bound) {
      btn.dataset.bound = '1';

      const fire = (e) => {
        if (e) { e.preventDefault(); e.stopPropagation(); }
        handleResetWithCode();
      };

      btn.addEventListener('click', fire, { passive: false });
      btn.addEventListener('touchstart', fire, { passive: false });
    }

    const form = document.getElementById('resetForm');
    if (form && !form.dataset.bound) {
      form.dataset.bound = '1';
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        handleResetWithCode();
      }, { passive: false });
    }
  }

  document.addEventListener('DOMContentLoaded', bindResetHandlers);
  bindResetHandlers();
  }
})();
</script>
